https://github.com/JavaOPs/topjava

Abnod [1:03 PM] 
joined #hw0.


Abnod [1:03 PM] 
set the channel purpose: homework 0


Grub [1:05 PM] 
joined #hw0 along with 9 others.



----- Friday, September 29th -----
Mikhail Shumaev [10:52 AM] 
Господа, не могу догадаться за что отвечает метод isBetween, а точнее, чем должно являться LocalTime lt ? Дайте плз подсказку


Abnod [11:04 AM] 
возвращает true/false в зависимости от того, попадает ли переданное время в первом аргументе lt в диапазон между startTime и endTime


[11:04] 
в первый аргумент передается время, полученное из Datetime объекта


[11:05] 
UserMeal.getDateTime().toLocalTime() @Mikhail Shumaev


Mikhail Shumaev [11:12 AM] 
@Abnod спасибо!

dzmitry [12:41 PM] 
joined #hw0 along with 8 others.


----- Thursday, October 5th -----
Roma [10:14 PM] 
@Abnod Олег привет, а ссылку на занятие в описание канала - не трудно добавить?


----- Friday, October 6th -----
Abnod [8:39 AM] 
@Roma та клюбой же может, не?


[8:40] 
тем более я хз какую ссылку добавлять =))


----- Wednesday, October 11th -----
RNG [8:10 PM] 
set the channel topic: https://github.com/JavaOPs/topjava

Kirilo [11:30 PM] 
Куда сбрасывать ссылку на выполненое задание? Пока сделал через цикл foreach.


----- Thursday, October 12th -----
Li0n13 [7:04 AM] 
@Kirilo На Github. На Гитхабе по ссылке выше есть файл README, в котором есть разные ссылки и инструкции, в том  числе как ведется  работа с проектом. (edited)


Kirilo [11:09 AM] 
спасибо


Kirilo [4:05 PM] 
То, что я понял, задания никто бесплатно проверять не будет. Просто делать, как для себя, а затем сверять результат с тем, что у преподавателя.



Abnod [4:05 PM] 
fuf

[4:05] 
aga

Kirilo [4:10 PM] 
Как раз есть еще время до начала стажировки немного разобраться с нюансами Java8. Лямбдами и т.п. Догадываюсь, что каким-то хитрым образом через потоки работает быстрее.


Abnod [4:11 PM] 
по разному =))



----- Friday, October 13th -----
Dmitry Neustupov [8:56 AM] 
Мапу всё равно через стримы собирал, мне так проще было.


[8:58] 
Если через стримы всё делать - красивше конечно получается )


Abnod [5:37 PM] 
со стримом там довольно все просто :smiley: хотя запомнить гору методов целое дело.

grigory.kislin [11:39 PM] 
коллеги, привет!
рад, что работа  кипит:)
по поводу своих выложенных сюда заданий- давайте наверно в личку, если хочется
хочется, чтобы люди самостоятельно решали ДЗ. чтоб не было соблазна подглядеть



----- Saturday, October 14th -----
Dmitry Neustupov [10:18 AM] 
Удалил )


grigory.kislin [11:05 AM] 
привет!
по поводу 1го ДЗ: сделайте плз в  MealsUtil  2 метода:
`getFilteredWithExceeded` и `getFilteredWithExceededByCycle`.  делать проще и проверять тоже проще.
ничего страшного, что использовать будем только один


Антон Кляшторный [11:42 AM] 
Привет! заглянул сюда - снялся вопрос куда  branch hw0ptional делать  из hw0 или master. Спасибо :slightly_smiling_face:


Li0n13 [1:21 PM] 
@grigory.kislin а насколько такой подход допустим в реальной работе? Мне кажется более целесообразным сделать 1 публичный метод, который будет вызывать один из приватных (если в конце концов мы выберем только одну реализацию, которая больше подойдёт для наших целей).
_здесь же правда можно задавать любые вопросы?_


aanyukhin [5:23 PM] 
@grigory.kislin а с каким смыслом в проекте поля классов UserMeal, UserMealWithExceed объявляются protected?


Grub [6:14 PM] 
они ж private

aanyukhin [6:34 PM] 
Хм. Согласен, в патчах уже private, хотя в видео ещё protected, наверно устарело. Спс)

Grub [8:06 PM] 
@grigory.kislin не планируете обновить видео?


Dmitry Neustupov [10:19 PM] 
@Grub мы ещё старые не видели )



----- Sunday, October 15th -----
Kirilo [1:40 AM] 
Если не делиться кодом, то толку от этой ветки будет аж никакого. Вот, например, протестировал я скорость выполнения циклом и с помощью стримов. Предварительно добавил в список в 28 раз больше записей. И одно наполнение карты дает разницу до 100 мс в пользу циклов...

chimax [6:17 PM] 
@Kirilo Привет. Кодом можно делиться в личке, а в данном канале, как вариант отвечать на вопросы или давать какие-то советы, относящиеся к HW0. (edited)




----- Monday, October 16th -----
grigory.kislin [12:47 AM] 
@Li0n13 вопросы- любые. 
если в реальном проекте встанет необходимость иметь в коде 2 метода и использовать 1н, то то, что я предлагаю- лучший подход:)
иначе- второй удалить и все. вообще- чем проще и понятнее, тем лучше


[12:51] 
@aanyukhin проект живой и меняется постоянно. все, что в патчах будет отличаться от видео я пишу отдельно в занятии (под патчем-видео)
поля- да, поменяются на private. видео иногда приходится переснимать, когда меняется весь подход. на мелочи переснимать в принципе не получится, тк патчи каждого потока всегда отличаются


[12:53] 
@Kirilo по поводу измерения производительности добавлю вопрос в урок, тк всплувают на каждом занятии. 
просто так запустить и померять скорость jvm нельзя (как минимум дать прогреться и запустить очень большое число раз)
лучше использовать какие нибудь бенчмарки, например JMH, который мы юзаем на другом проекте (mastejava) (edited)


grigory.kislin [12:59 AM] 
http://tutorials.jenkov.com/java-performance/jmh.html
tutorials.jenkov.com
JMH - Java Microbenchmark Harness
JMH (Java Microbenchmark Harness) is a toolkit that helps you implement Java microbenchmarks correctly. JMH is developed by the same people who implement the Java virtual machine, so these guys know what they are doing. This JMH tutorial will teach you how to implement and run Java microbenchmarks with JMH. (43 kB)


Kirilo [1:20 PM] 
@grigory.kislin надеюсь увидеть пример от преподавателя, в котором действительно будет работать быстрее или хотябы так же. Потому как пока я вижу только недостатки в применении нового синтаксиса. Для меня, лично, "читаемость" кода только ухудшилась. А код запускал большое колличество раз. Возможно, такое будет работать быстрее, когда на сервер поступает большое колличество запросов и именно паралельное исполнение покажет прирост в скорости. Но сейчас я этого не увидел.


Shtramak [2:13 PM] 
@Kirilo Вот статья по этому вопросу - https://jaxenter.com/java-performance-tutorial-how-fast-are-the-java-8-streams-118830.html
Ну, там много текста, но, можно не вчитываясь перейти к выводам:
> 1. With this in mind it is fair to say that the performance model of streams is not a trivial one. Expecting that parallel stream operations are always faster than sequential stream operations is naive.
> 2.  There are indeed situations in which parallel execution is slower than sequential execution and blindly using parallel streams in all cases can be downright counter- productive.
> 3. The realisation is: Yes, parallel stream operations are easy to use and often they run faster than sequential operations, but don’t expect miracles.
(edited)



Shtramak [2:20 PM] 
Стримы, как и лямбды призваны к упрощению и удобочитаемости кода, но по началу в это, мягко говоря, трудно поверить... Действительно, что одно, что другое выглядит несколько нетипично и нехарактерно для того что было до 7ой, привычной, джавы... Но, думаю, если привыкнуть, то все станет на свои места: ведь что стирмы, что лямбды в результате намного лаконичнее, с этим не поспорить. Вопрос лишь в том что бы привыкнуть к ним и уметь правильно читать


Kirilo [2:28 PM] 
Вот, и я пока не увидел приимуществ, ради которых стоит отказываться от циклов. Пока это все выглядит как дань моде. Если код правильно писать, то проблем с "читабельностью" не возникает. К тому же как "дебажить" теперь? Я, все-таки, надеюсь, что это только начало и в итоге код будет работать быстрее. Иначе я не вижу смысла в этих изменениях.


Yuri [3:12 PM] 
Стримы удобная штука, но не для всех задач. К сожалению в Java они неполноценны и из-за этого циклами бывает гораздо наглядней сделать, особенно когда надо вставлять в стрим простой java-код ({ ... })
Для дебага есть плагин под IDEA
https://plugins.jetbrains.com/plugin/9696-java-stream-debugger
JetBrains Plugin Repository
Java Stream Debugger :: JetBrains Plugin Repository
Welcome to the JetBrains plugin repository (27 kB)


[3:14] 
Стримы в этой задаче проигрывают обычным циклам, а вот если большой объем данных и их можно распараллелить, то стримы выиграют.
Kirilo Lozitsky
@grigory.kislin надеюсь увидеть пример от преподавателя, в котором действительно будет работать быстрее или хотябы так же. Потому как пока я вижу только недостатки в применении нового синтаксиса. Для меня, лично, "читаемость" кода только ухудшилась. А код запускал большое колличество раз. Возможно, такое будет работать быстрее, когда на сервер поступает большое колличество запросов и именно паралельное исполнение покажет прирост в скорости. Но сейчас я этого не увидел.
Posted in #hw0Oct 16th at 1:20 PM


grigory.kislin [3:46 PM] 
@Kirilo
> Надеюсь увидеть пример от преподавателя, в котором действительно будет работать быстрее или хотябы так же. Потому как пока я вижу только недостатки в применении нового синтаксиса.
1. по поводу скорости- типичная ошибка новичков пытаться ускорить отдельные строчки кода.
на тему производительности много статей и видео. Основное в них- не оптимизировать преждевременно, пока не нашли узкое место. осебенно в ущерб читаемости-поддерживаемости
вот парочка статей из vk группы
http://optimization.guide/intro.html
https://habrahabr.ru/company/jugru/blog/338732/
optimization.guide
Продуманная оптимизация
Наконец появилась толковая бесплатная книга о серверной оптимизации на русском. Написано толково и с юмором. Рекомендую! (74 kB)
 Хабрахабр
Перформанс: что в имени тебе моём? — Алексей Шипилёв об оптимизации в крупных проектах
Оптимизация производительности издавна не даёт покоя разработчикам, представляясь своеобразным «золотым ключиком» к интересным решениям и хорошему послужном... (204 kB)
(edited)


[3:49] 
https://habrahabr.ru/post/326242/
Хабрахабр
Performance это праздник
Вернувшись с JPoint 2017, где с огромнейшим удовольствием пообщался с большим числом мегакрутых программистов решил надеть шляпу и покопаться в разного рода... (17 kB)


[3:53] 
2. по поводу читаемости стримов- когда встречаешь что-то непривычное, приходится перестраивать мозги. Например переход с процедурного на ООП программирование дается непросто и жалобы будут очень похожие.
Те, кто не знает шаблонов (и не хоят учить)  также их встречают плохо. Хорошая новость в том, что если принять и начать использовать то начинаешь получать от этого удовольствие. И тут главное не впасть в другую крайность:)
https://habrahabr.ru/post/337350/
Хабрахабр
Используйте Stream API проще (или не используйте вообще)
С появлением Java 8 Stream API позволило программистам писать существенно короче то, что раньше занимало много строк кода. Однако оказалось, что многие даже с... (50 kB)
(edited)


[3:55] 
а по поводу производительности стримов - она улучшиться только на больших задачах, где возможно распараллеливание (edited)


grigory.kislin [4:06 PM] 
добавил в урок: https://github.com/JavaOPs/topjava/blob/master/README.md#Замечания-по-использованию-stream-api
GitHub
JavaOPs/topjava
topjava - Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery
 
(edited)


Ivan [4:48 PM] 
Добрый день, я правильно понял, что List<UserMealWithExceed> getFilteredWithExceeded должен вернуть один завтрак за 31 число (исходя из данных в Patch)?


Li0n13 [5:05 PM] 
@Ivan 2 завтрака. За 30-е и 31-е.



Ivan [5:05 PM] 
@Li0n13 Спасибо. (edited)


Kirilo [6:14 PM] 
Java 8: Lambda выражения
Java 8: Потоки
Ссылки на http://devcolibri.com не работают. 
"devcolibri.com
Истёк срок регистрации домена"
devcolibri.com
Истёк срок регистрации домена devcolibri.com (5 kB)


grigory.kislin [8:55 PM] 
да, в general канале написали. поправил



----- Tuesday, October 17th -----
PugVal [4:15 PM] 
Добрый день. Получается, что значение за день  2000 к - это уже превышение?


Shtramak [4:28 PM] 
по идее нет, т.к. тестовые данные на то и расчитаны, что бы в одном случае было 2000 и false, а во втором 2010 и true


[4:28] 
В общем 2000 - еще не превышение, а 2001 да )

Tanya [6:48 PM] 
@PugVal если есть сомнения, то всегда можно глянуть демку



PugVal [7:16 PM] 
uploaded and commented on this image: Снимок.PNG
1 Comment
вот что показывает демка, может слишком я заработалась, либо что-то упустила....



Tanya [7:59 PM] 
@PugVal все ок (edited)

Dmitry Neustupov [9:29 PM] 
Попадают два завтрака, но у одного поле exceed = true, у второго = false.


Shtramak [9:40 PM] 
Вот только у той еды, сумма которой зелёным  отмечена = 2005 калорий ... Так что @PugVal все верно подметила


Li0n13 [9:42 PM] 
На скриншоте не видно, какой лимит калориев установлен. Может, там 2005 (edited)


Shtramak [9:43 PM] 
Вроде ж 2000 оговорено было...


PugVal [9:43 PM] 
ок.  где его установить? лимит калорий? (edited)


Li0n13 [9:44 PM] 
В User профиль. И да, там 2005.

PugVal [9:46 PM] 
ок. спасибо


Kirilo [11:06 PM] 
Вот, нашел пример где наглядно показано, как с классического foreach перейти на метод foreach который есть уже в коллекции и как работать с картой. А далее, благодаря "alt + enter" на foreach уже самостоятельно с помощью Idea преобразовываем в подходящий stream. И таким образом не нужно создавать дополнительный метод getDate, а можно так и использовать userMeal.getDateTime().toLocalDate()


[11:06] 
http://bazhenov.me/blog/2014/07/20/java-8-top10.html


----- Wednesday, October 18th -----
Viktor [2:06 AM] 
Привет всем, если кто хочет похвастаться, сравнить, обсудить решение вступительного задания, пишите в личку. Решал со стримами вроде неплохо получилось, но хотелось бы услышать мнение со стороны. Если будет интересно выскажусь по поводу вашего решения :smiley:


vch [9:20 PM] 
@Viktor Раз ты так быстро справился с заданием, то есть время придумать ещё какие-нибудь необычные решения. В 1 выражение, или ещё что-нибудь хитрое и нестандартное.


Viktor [10:37 PM] 
@vch думаю :smiley: но пока в одно выражение сложность алгоритма возрастет до О(n2) а у меня пока O(n*2) примерно


----- Thursday, October 19th -----
Ivan [7:58 AM] 
Вдруг кому интересно.
Измерил время "по-топорному" -
    startTime = System.currentTimeMillis();
    time = System.currentTimeMillis() - startTime;

Time with cicle - 131 (+/-4)
Time with stream - 13 (+/-1)



vch [8:00 AM] 
Стримы быстрее в 10 раз???

Ivan [8:08 AM] 
У меня так (логику методов не изменял, как мне кажется). Хотя ранее видел тут сообщения, что работает примерно одинаково.


vch [8:09 AM] 
Ну да... Обычно стримы чуть медленнее бывают аналогичного решения на циклах.

Ivan [8:20 AM] 
Поправочка... Запустил каждый через for (int i = 0; i < 10000; i++)
Time with cicle - 176
Time with stream - 120
Уже не такая разница...:grimacing:


[8:23] 
Разобрался... Так измерять нельзя. Время очень относительно зависит от метода (В данных измерениях!) и существенно варьируется от порядка исполнения. *Ушёл изучать http://openjdk.java.net/projects/code-tools/jmh/


astronarh [12:20 PM] 
Народ, а вы проект, после того как подтянули с гитхаба, локально целиком запускаете, или как? По частям тестами свои корректировки пробуете?,


Fabus [12:49 PM] 
Там же в main'е данные есть, я их использовал для тестирования


astronarh [1:08 PM] 
Спасиб, а то я что-то загнался походу, попытался целиком проект развернуть, PostgreSQL почитал... А классы то, для невнимательных, вроде меня, после патча, красным выделены даже...
Alexandr Fayustov
Там же в main'е данные есть, я их использовал для тестирования
Posted in #hw0Oct 19th at 12:49 PM


Дима Жуков 
[2:32 PM] 
Привет всем. Кто нибудь на проверку дз нулевое отправлял? Куда отправлять то? Что то readme прочитал там не сказано или я не увидел?


astronarh [2:36 PM] 
На сколько я понимаю, если оплачена проверка ДЗ, должна придти инструкция, в ней походу всё расписано.
Жуков Дмитрий
Привет всем. Кто нибудь на проверку дз нулевое отправлял? Куда отправлять то? Что то readme прочитал там не сказано или я не увидел?
Posted in #hw0Oct 19th at 2:32 PM
 


vch [2:36 PM] 
@Дима Жуков А ты оплачивал проверку? Обычно отдельную группу slack для этого делают.
Вроде проверку обещали начиная с 14.10, странно, если не создали...


Дима Жуков [2:38 PM] 
Я не знаю))) у меня подписка mentor plus. А что она включает без понятия если честно...


[2:39] 
У кого нибудь такая есть?)

vch [2:40 PM] 
@Дима Жуков Судя по https://javarush.ru/prices/archive - обещается `Наставник в онлайн-стажировке`
Обратись к Григорию, только он разбирается во всём этом. (edited)


Дима Жуков [2:41 PM] 
Спасибо.


[2:41] 
Видимо действительно только к нему. Инструкции никакой вроде нет

[2:44] 
Кстати это приложение у кого нибудь уведомления выдает на телефон если новое сообщение в какой нибудь из групп?


Li0n13 [3:20 PM] 
Выдает. В каждом канале можно настроить. Спроси Slackbot - он подробно обьяснит, как

Konstantin
[5:14 PM] 
привет! вопрос только что присоединившегося: patch для hw0 уже должен быть в Intellij?

Дима Жуков [5:19 PM] 
Скачать надо и в корень проекта бросить


[5:19] 
И в идее его запустить


[5:20] 
Видео прям пошагово показывает



----- Friday, October 20th -----
astronarh 
[11:04 AM] 
Народ, кто сделал, результат List<UserMealWithExceed> проверяли дебагером, или класс UserMealWithExceed допиливали чтобы он toString корректно выводил?


Li0n13 [11:08 AM] 
Есть конкретная задача - реализовать метод. Если для ее решения необходимо еще что-то, надо делать. Если нет - не надо навешивать лишнего.



Shtramak [11:59 AM] 
@astronarh Ветка HW-0 чисто твоя и в ней ты волен делать все что угодно... экспериментируй, разбирайся, смотри что к чему, затем всегда можно вернуться и отрефакторить все под себя... Табу только на ветку мастер. Если ты с проверкой д.з. , то, на проверку конечно стоит отправить то что от тебя требовалось - рабочие методы, а уж как ты проверял их работоспособность: через дебагер, покрывал тестами или писал доп. класс по это дело - это уже твое личное дело


Dmitry Neustupov [12:04 PM] 
Как угодно, я допиливал (Alt + Ins -> toString) в идее, чтобы посмотреть, что там происходит. (edited)




----- Sunday, October 22nd -----
Maksim [11:36 AM] 
- Оцените Time complexity вашего алгоритма, если он O(N*N)- попробуйте сделать O(N).
Решая через цикл, этого возможно достичь?


Few 
[11:37 AM] 
@Maksim Да,  просто не должно быть вложенных циклов


Maksim [11:39 AM] 
А UserMeal в листe всегда отсортирован по дате?

Few 
[11:40 AM] 
Я бы не стал на это рассчитывать если такого не сказано



astronarh [11:55 AM] 
Гипотетически пользователь может добавлять в лист данные не по порядку, поэтому возможно не всегда.


Konstantin
[7:45 PM] 
по теории, два последовательных цикла тоже O(N), главное без вложенности



Alexandr [8:26 PM] 
Всем привет хотел уточнить если без проверки дз домашку ни куда не надо отправлять просто потом на уроке будет разбор?


vch [8:28 PM] 
@Alexandr  да



----- Monday, October 23rd -----
Ruslan [12:05 AM] 
И когда получилось сделать в одну строчку чувствуешь себя повелителем Stream API.

Viktor [12:08 AM] 
@Ruslan так то всю программу можно в строчку написать :smiley: только чувствуешь себя не повелителем java, а чем-то не правильным :smiley:


Ruslan [12:19 AM] 
чем-то не правилиным  это не хорошо, будем стараться) но безусловно за два дня из кракозябры в практически элегантное решение по "моему мнению" не плохо)


Viktor [12:21 AM] 
@Ruslan заинтриговали, покажите решение? в личку конечно.


Tanya [1:50 AM] 
@Ruslan в одну строку через один стрим?
можно решение в лс?


grigory.kislin [2:26 AM] 
@Дима Жуков в письме по стажировке 2я фрза- с проверкой либо нет. по поводу подписки, если сомнения, нужно написать silet (Vasil Malik). есть в слаке


[2:28] 
https://topjava12.slack.com/archives/C74N23TGR/p1508486675000196
я сделал - удобнее:) см https://github.com/JavaOPs/topjava#-Замечания-к-hw0
п. 1
Valeriy Shkerdin
Народ, кто сделал, результат List<UserMealWithExceed> проверяли дебагером, или класс UserMealWithExceed допиливали чтобы он toString корректно выводил?
Posted in #hw0Oct 20th at 11:04 AM
 GitHub
JavaOPs/topjava
topjava - Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery
 


[2:30] 
@Ruslan точно не O(N*N) ? вообще у нас уже 2 решения было. хотя они медленее и сложнее чем 2 прохода

[2:31] 
за решение с одним return и O(N) - +5 бонусов (5% скидка на другие проекты)


Дима Жуков 
[4:40 AM] 
С одним ретёрном, наверное, просто для каждого элемента делать то что мы один раз сделали в первом стриме. Первый стрим внутрь второго запихать на этапе сравнения как то)


grigory.kislin [12:05 PM] 
если не O(N*N) и 1 return можно мне в личку ссылку на класс слать


Ruslan [1:08 PM] 
Сори не удержался про одну строчку(3 дня назад просто знал что есть такое Stream API) и тут додумался как в одном стриме сделать). Конечно это примерно так как написал Дима Жуков.



----- Tuesday, October 24th -----
Ганичев Максим [11:57 AM] 
Мне кажется что вложенный стрим даст сложность как раз приблизительно O(N*N), хотя могу ошибаться
Жуков Дмитрий
С одним ретёрном, наверное, просто для каждого элемента делать то что мы один раз сделали в первом стриме. Первый стрим внутрь второго запихать на этапе сравнения как то)
Posted in #hw0Oct 23rd at 4:40 AM


itAvgur [6:43 PM] 
А не N+N?
Konstantin
по теории, два последовательных цикла тоже O(N), главное без вложенности
Posted in #hw0Oct 22nd at 7:45 PM
 


Grub [6:49 PM] 
@itAvgur N+N = 2N -> O(N)
константа откидывается (edited)



Dmitry Neustupov [9:10 PM] 
Сложность должна быть O(N), т.е. без вложенных стримов и циклов. (C)


vsimonov [9:24 PM] 
Парни сколько у вас дат в конце выдаёт 2 или 3?


Li0n13 [9:53 PM] 
_Ждала, когда парни ответят..._ @vsimonov 2 завтрака на исходных данных.
 


vsimonov [9:55 PM] 
:slightly_smiling_face: почему 2 завтрака, а обед?


Li0n13 [9:57 PM] 
Обед позже.


Dmitry Neustupov [9:59 PM] 
2

vsimonov [10:00 PM] 
кто может пояснить?


[10:00] 
с 7 до 12 подпадает 3 даты


[10:00] 
почему 2 выводить надо

Li0n13 [10:01 PM] 
7 и 12 - это время. У них завтраки в 10, обеды в 13, ужины - в 20. С 7 до 12 - только завтраки. Если про даты - там описаны 2 дня: 30 и 31 мая. (edited)


vsimonov [10:05 PM] 
-  должны возвращаться только записи между startTime и endTime

[10:05] 
-  поле UserMealWithExceed.exceed должно показывать,
                                    превышает ли сумма калорий за весь день параметра метода caloriesPerDay


[10:05] 
ничего не сказано про завтраки обеды и ужины

Li0n13 [10:07 PM] 
В классе `UserMealsUtil` есть метод `main` с проверочными данными. Вот по тем данным должно быть 2 результата.


vsimonov [10:11 PM] 
Скинь плиз данные

Li0n13 [10:14 PM] 
Патч применял?


kadmser [10:17 PM] 
После установки патча все данные для проверки есть. Только метод реализовать и все.
vadim vimonov
ничего не сказано про завтраки обеды и ужины
Posted in #hw0Oct 24th at 10:05 PM
 


astronarh 
[10:18 PM] 
Выводит два приема пищи, в заданном интервале времени, с двумя разными маркерами указывающими переполнение по каллориям. (edited)


vsimonov [10:19 PM] 
патч да всё верно


[10:21] 
я то реализовал, но почему надо по другому делать
Kashin Dmitry
После установки патча все данные для проверки есть. Только метод реализовать и все.
Posted in #hw0Oct 24th at 10:17 PM


[10:23] 
я виноват


kadmser 
[10:23 PM] 
В UserMealsUtil джолжен быть вот такой мэйн


vsimonov [10:23 PM] 
короче всё верно 2 записи, у меня старые данные были. после патча тестовые записи обновились


kadmser 
[10:24 PM] 
:+1:
vadim vimonov
короче всё верно 2 записи, у меня старые данные были. после патча тестовые записи обновились
Posted in #hw0Oct 24th at 10:23 PM


vsimonov [10:25 PM] 
да надо было обновить


[10:27] 
кто как с одним циклом сделал? (edited)

Li0n13 [10:54 PM] 
@vsimonov подумай о разнице между двумя разными циклами и вложенными циклами.


kadmser 
[11:03 PM] 
Сделал без вложенных циклов и в строку стримами

[11:03] 
два метода


Kirilo [11:22 PM] 
Разве ни у кого не возник вопрос, почему на отборочном задании на стажировку пейджинг был для самостоятельного решения, а в проэкте его нет и не будет? Как по мне - это наисложнейшая часть. Я ожидал увидеть, как это делают профи...



vsimonov [11:26 PM] 
с map или без?
Katherine Buzatu
@vsimonov подумай о разнице между двумя разными циклами и вложенными циклами.
Posted in #hw0Oct 24th at 10:54 PM


[11:27] 
в строку стримами, на это я бы посмотрел
Kashin Dmitry
Сделал без вложенных циклов и в строку стримами
Posted in #hw0Oct 24th at 11:03 PM


kadmser [11:28 PM] 
строка довольно длинная
vadim vimonov
в строку стримами, на это я бы посмотрел
Posted in #hw0Oct 24th at 11:27 PM


Li0n13 [11:29 PM] 
А не вышло ли в строке вложенных стримов?


kadmser [11:30 PM] 
вышло


Li0n13 [11:30 PM] 
@vsimonov с Map

kadmser [11:33 PM] 
@Li0n13 у тебя без вложенных стримов получилось?


Li0n13 [11:34 PM] 
Без вложенных. Но не в одну строку.


vsimonov [11:36 PM] 
в любом случае посмотреть разные варианты решения было бы оч интересно


Li0n13 [11:42 PM] 
Я так понимаю, что в четверг все карты раскроем и будем обсуждать. Григорий предложил не выкладывать готовые решения, чтобы каждый думал сам без соблазна подсмотреть.


Viktor [11:50 PM] 
@Li0n13 я могу весь класс в одну строку написать толку то?


Kirilo [11:54 PM] 
А почему обязательно все в строку впихивать? Разве не один из главных постулатов в Java и ООП была максимальная понятность кода?


[11:58] 
Вот, ввели стримы, но... Главный вопрос: насколько это удобнее и эффективнее? Что в итоге это даст? Будет ли прирост в скорости исполнения в будущем и как теперь будет эволюционировать программирование? Всем ли очевидна простота кода в новом исполнении? В будущем такие проэкты будут писаться типа: создать -> CRUD("название")...? (edited)




----- Wednesday, October 25th -----
RNG [12:00 AM] 
@Kirilo Вообще уже есть нечто подобное. К примеру:  https://start.spring.io/ (edited)


kadmser [12:02 AM] 
@Kirilo В вводном задании есть ссылки на видео Сергея Куксенко по стримам, там о них хорошо рассказывается, и сравнение эффективности с циклами.


Kirilo [12:02 AM] 
@kadmser это тот, который архитектор?


kadmser 
[12:03 AM] 
@Kirilo https://www.youtube.com/watch?v=O8oN4KSZEXE
YouTube JUG .ru
Сергей Куксенко — Stream API, часть 1
 


Kirilo [12:04 AM] 
ну, да. Первую часть смотрел. Посмотрю и вторую... (edited)


[12:08] 
С первой части что я понял, что революционно нового ничего не ввели, а что сделали: создали всевозможные методы, для того, чтобы упростить код. И по сути библиотеку concurrent инкапсулировали внутри. Теперь программист Java - это оператор лямбд... (edited)

Viktor [12:08 AM] 
@Kirilo как сказал Сергей, главная ценность стримов в том, чтобы рассказать что делать, а не как.


Kirilo [12:11 AM] 
Ведь, чтобы привести к лямбдам, нужно и код писать соответственно, по сути шаблонно...

Argentum_kuh [12:55 AM] 
Kirilo [11:22 PM] 
Разве ни у кого не возник вопрос, почему на отборочном задании на стажировку пейджинг был для самостоятельного решения, а в проэкте его нет и не будет? Как по мне - это наисложнейшая часть. Я ожидал увидеть, как это делают профи...


[12:56] 
Я реализовал через PagingAndSortingRepository Spring Boot


[12:56] 
Дальше написать разметку и метод в скрипте было не сложно)

Viktor [1:17 AM] 
@Argentum_kuh там вроде есть объект для паджинизации :smiley: я просто в него список пользователей закинул и получил постраничный вывод :smiley:


Argentum_kuh [1:18 AM] 
Где там?

Viktor [1:19 AM] 
@Argentum_kuh в java


Argentum_kuh [1:22 AM] 
да? не знал. а в каком API?



Viktor [1:32 AM] 
да вроде встроенное все :smiley:


[1:34] 
org.springframework.beans.support.PagedListHolder

Argentum_kuh [1:49 AM] 
Благодарю. Буду знать


TheTOXIN [8:32 AM] 
что делать после того как решил HW0 и залил его на гитхаб?


Rostish [8:38 AM] 
ждать завтра


[8:38] 
когда выложит свое решение рук проекта и дадут hw1


[8:39] 
если оплачена проверка(стоит доп 8к), то можно отправить свой код на проверку


vch [8:41 AM] 
@Rostish Вроде решение выложат только 02.11 ?
А завтра - официальный старт 0 занятия, которое уже и так открыто.



Rostish [8:41 AM] 
возможно), думаю, ты прав


[8:42] 
я просто так давно сделал тестовое(2 недели назад(, что убедил себя, что 26 уже должна хотя бы быть вторая неделя

Dmitry Neustupov [8:49 AM] 
26.10: Старт проекта
Проверка домашнего задания вступительного занятия (для участников с проверкой решения присылать до 31.10).
02.11: 1-е занятие
Разбор домашнего задания вступительного занятия (вместе с Optional)
Домашнее задание 1-го занятия (HW1 + Optional)


Few
[8:52 AM] 
Кстати,  так и не понял,  что является optional для HW0?

Дима Жуков [8:54 AM] 
Нужно сделать две реализации: циклы, стримы

[8:54] 
Стримы optional

Few [8:55 AM] 
А,  все,  нашел слово Optional в задании,  спасибо


Maksim [9:03 AM] 
Всем привет. А во сколько завтра начнется? Или будет еще письмо?

Дима Жуков [9:03 AM] 
2 ноября ж старт


vvviiit [9:03 AM] 
завтра полюбому что то будет

[9:06] 
26.10: Старт проекта

Начало проверки вступительного задания


Дима Жуков 
[9:07 AM] 
Ну ждём пока. Можно пока обсуждать stream API и date API

vvviiit [9:08 AM] 
я так понимаю большинство сделало через стримы, но со вложенным стримом



[9:09] 
это я про один ретерн в одну строчку

Дима Жуков 
[9:09 AM] 
Я думаю мало кто делал с вложенным стримом

vvviiit [9:10 AM] 
а как?


[9:10] 
судя по тому что я тут прочитал, у меня сложилось такое впечатление


[9:10] 
ну либо два стрима подряд, но не вложенные


[9:10] 
но это уже не в одну строчку:)

tema.emelyan [9:12 AM] 
лучше экономить не строчки, а время работы алгоритма (edited)



Дима Жуков [9:12 AM] 
Ну это просто поиграться


vvviiit [9:12 AM] 
понятное дело:)


vvviiit [9:12 AM] 
просто для изящности


Дима Жуков 
[9:15 AM] 
Кстати, localdate, localdatetime. Хибернэйт понимает? Допустим в бине такое поле с таким типом? В входном проекте у меня был date обычный и все работало. Или потом все переводить это все равно в date. Можно конечно погуглить.

[9:16] 
Хотя когда надо будет тогда и узнаем


[9:19] 
Кстати работает!

Rostish [10:20 AM] 
Погонял тестовую програму. Вопрос к разработчикам. Так и должно быть, что все записи становятся красными если мы норму нарушили суммарно в рамках этого дня? Пример: за 24 часа мы съели 2500 каллорий(из 2000), но если я выберу в промежуток между 10 и 12, где мы съели всего 500 - этот промежуток тоже красный, так и задумывалось? Просто метод в корне отличается в этих вариантах



vch [10:21 AM] 
@Rostish ну по ТЗ вроде так и должно быть... Красным помечается, если в этом дне было превышение (edited)


Rostish [10:23 AM] 
Ну ок, так на самом деле даже легче, в своей проге попробую это логику по другому реализовать


grigory.kislin [11:54 AM] 
@Kirilo
> почему на отборочном задании на стажировку пейджинг был для самостоятельного решения, а в проэкте его нет и не будет?
попробую с JR обсудить


[11:56] 
@Maksim ночью придет письмо

Rostish [1:07 PM] 
Я ведь правильно понимаю, у нас в любом случае будет две последовательные операции стримов или циклов. Так как нам сначала надо проверить в какие дни были нарушения по каллориям, а потом проставить это значение всем существующим в списке дням(либо только тем, которые зафильтруем)


[1:07] 
?

Rostish [1:12 PM] 
И еще маленький вопрос, чтобы не делать лишнюю работу. В этом уроке нам же не нужно получить список всех приемов пищей с проставленным isexceed, проставляем только тем, которые фильтруются временем?


Li0n13 [1:27 PM] 
да

Rostish [1:51 PM] 
Сделал, вроде заработало, но мне кажется немного перемудрил. Надеюсь более опытные товарищи подскажут.
Я не знал, как сделать переменную isExceed для каждого дня свою или как прокрутить с одной переменной в цикле или стриме, поэтому сделал массив булианов по максимальному количеству дней в месяце, во время первого цикла заполнил массив значениями для каждого дня, а втором цикле(не вложенном) выбрал все значение попадаемые под условия фильтрации и проставил для них эту переменную из массива. Второй цикл заменить на стрим удалось, первый нет, вот мне и кажется, что перемудрил. Готов выслушать критку и советы)


Дима Жуков [1:57 PM] 
Что то перемудрил


vch [1:57 PM] 
@Rostish По-моему, ты однозначно победитель в конкурсе эээ.... самых необычных решений.

Дима Жуков [1:58 PM] 
Первую часть не совсем понял....


[1:58] 
Массив из 31 false?

[1:58] 
Потом ставишь день true

Li0n13 [1:59 PM] 
1. Массив - штука статичная. У тебя выходит, что для данного тестового случая создается массив из 31 элемента... Это как минимум, если я правильно поняла ход мысли.
2. Какие данные собирает этот boolean?

Rostish [1:59 PM] 
не, парни, если по делу сказать нечего, то извините. Сложность алгоритма я соблел, просто мне хочется количество кода уменьшить. Первая часть в том, что мы должны вычислить для каждого дня превысили мы норм или нет, в зависимости от этого у нас будет переменная true/false. Как хронить их для каждого дня месяца?


Дима Жуков 
[1:59 PM] 
И сравниваешь день

Rostish [1:59 PM] 
Ну да, вы все правильно поняли


[1:59] 
у нас есть день, проверяем для дня 30 превышена норма или нет

[2:00] 
если да записываем в масси с индексом 30(29) true

[2:00] 
проверяем день 31

[2:00] 
и тд


[2:00] 
если у нас список из 31 дня а не 30, нам надо хранить для каждого дня значения превышена норма или нет

[2:01] 
а не двух*


TheTOXIN [2:01 PM] 
@Rostish Вместо массива бульёнов, можно сделать список LocalDate, в котором будут даты где превышена ежедневная норма



Дима Жуков [2:01 PM] 
Ну можно и так. Можно вспомнить что когда в map добавляешь ключ не дублирется, а вэлью складыаать. Ключ использовать дату

Rostish [2:02 PM] 
о, с мапой круто, я забыл что можно калории складывать, а дата таже будет


Li0n13 [2:02 PM] 
Спойлер детектед...



Rostish [2:02 PM] 
а потом проверять после


vch [2:02 PM] 
@Rostish А если данные за несколько месяцев тебе дадут? Как твой массив себя поведёт?
Или если List будет несортированный...


Rostish [2:02 PM] 
несортированный лист это нормально


[2:02] 
я проверял

[2:02] 
вон с мапой подсказали фичу


[2:02] 
я забыл про это


[2:03] 
ключ дата каллории значение

[2:03] 
@Дима Жуков Спасибо

TheTOXIN [2:05 PM] 
В readme есть небольшая подсказка "4: При реализации через циклы посмотрите в Map на методы getOrDefault или merge"



fbochkarev [2:19 PM] 
Всем привет. Во сколько и где завтра начало? Верку листал.

Alexandr [3:02 PM] 
Тоже хотел уточнить про завтра или завтра не будет ничего?

RNG [3:09 PM] 
Новый материал будет 2 ноября, тогда же и новое задание.


fbochkarev [3:09 PM] 
Про завтра.

RNG [3:11 PM] 
Григорий обычно сюдя инфо о новом материале скидывает, а потом только рассылку по почте.


Alexandr [3:14 PM] 
Ну понятно пока можно еще поразбираться со stream api :smiley:

grigory.kislin [3:31 PM] 
Всем привет!
ночью вышлю письмо: старт стажировки с общей информацией

Denis1989 [4:35 PM] 
uploaded and commented on this image: image.png
1 Comment
IDEA некоторые классы подсвечивает другим цветом, что это значит ? В частности класс UserMealsUtil.



anpotashev [4:40 PM] 
Другим цветом выделены файлы, изменения в которых еще не закомитили


[4:40] 
Всем привет, кстати!

TheTOXIN [4:42 PM] 
@anpotashev Добро пожаловать:hand:


Shtramak [4:47 PM] 
Да, за подсветку классов отвечает система контроля версий, в данном случае git


Denis1989 [4:48 PM] 
@anpotashev @Shtramak :+1:

Shtramak [4:48 PM] 
красный - файл вне системы гит, зеленый - только добавлен в систему, синий - файл в системе, но изменен и ждет добавления и комита (edited)


Anton K. [6:01 PM] 
Ребят, привет, вопрос такой, если я последовательно 2 раза прохожу по meallist это сложность O(N)?


[6:02] 
и как при оценки сложности учитывать что я достаю значения из хэшмапы

Few [6:02 PM] 
Да


Anton K. [6:03 PM] 
а ну норм


Few [6:04 PM] 
У мапы сложность извлечения близка к О(1)

Anton K. [7:33 PM] 
Ребят, а еще вопрос, если я меняю в потоках при помощи .map параметр на объект другого класса, то меняется типа возвращаемой коллекции
1 reply 16 days ago View thread

Viktor [7:34 PM] 
да


[7:35] 
тип возвращаемой коллекции вы выбираете сами в финальной операции .collect. Тип содержимого коллекции выводится автоматом из стрима.

Anton K. [7:36 PM] 
.collect(Collectors.toList());


[7:36] 
тут же получается не выбираешь

[7:36] 
Мне такой вариант idea выдала

[7:37] 
Например List<Integer> или List<String>

Dmitry Neustupov [7:55 PM] 
@Anton K. если нужен какой то конкретный тип листа используйте тот же collect, но с разделением параметров:
R collect​(Supplier supplier, BiConsumer accumulator, BiConsumer combiner)
То же, что и collect(collector), только параметры разбиты для удобства. Если нужно быстро сделать какую-то операцию, нет нужды реализовывать интерфейс Collector, достаточно передать три лямбда-выражения.

supplier должен поставлять новые объекты (контейнеры), например new ArrayList(), accumulator добавляет элемент в контейнер, combiner необходим для параллельных стримов и объединяет части стрима воедино.


Dmitry Neustupov [7:56 PM] 
added this Java snippet
List<String> list = Stream.of("a", "b", "c", "d")
  .collect(ArrayList::new, ArrayList::add, ArrayList::addAll);
Add Comment



grigory.kislin [7:58 PM] 
@Dmitry Neustupov Java snippet- интересно:)
https://get.slack.help/hc/en-us/articles/204145658-Create-a-snippet ?
Slack Help Center
Create a snippet
Snippets are a quick, easy way to share bits of code, configuration files, or log files with your workspace.    Note: You can't currently create or share snippets in our mobile apps. Add a new snip...
 



----- Thursday, October 26th -----
Иван [12:07 AM] 
а где патч скачивать?


[12:09] 
нашёл

Andrey [11:21 AM] 
Привет всем! Кто уже начал выполнение ДЗ? Не совсем понял что необходимо получить в методе getFilteredWithExceeded? Мы должны подсчитать кол-во калорий за день, но считается что метод обрабатывает калории за день или мы должны еще в методе сделать выборку по году, месяцу и дню и потом по каждому дню считать калории? На вход подается весь список, а не один день


Дима Жуков [11:24 AM] 
Вернуть согласно датам в входных параметрах метода. Проставить если а этот день было превышение каллорий


[11:25] 
Проставить true или false

Andrey [11:38 AM] 
Дима, даты указаны за один день, значит считается, что на вход подается один день? По mealList подается 2 дня, а может подаваться и больше. Потому и спрашиваю, что в методе перебирать только время или еще годы и дни?


vch [11:39 AM] 
@Andrew могут хоть за 10 лет подать записи


Дима Жуков [11:40 AM] 
День за конкретный месяц конкретного года.


[11:40] 
Каллории за этот день

[11:41] 
Объединять данные по каждому дню такому, потом смотреть превышение


[11:42] 
Покрайней мере у меня так. Возможно есть другой алгоритм какой нибудь

Li0n13 [11:42 AM] 
Надо вернуть еду за промежуток времени. Например, нас просят с 7 до 12 часов. Мы возвращаем еду только за это ВРЕМЯ по всем имеющимся датам.
На тестовых данных получаем 2 завтрака (edited)



Дима Жуков
[11:44 AM] 
Говорят что можно одним стримом... Я не знаю как, может надо иначе мыслить чем я


Li0n13 [11:45 AM] 
@Дима Жуков врут безбожно


Andrey [11:45 AM] 
Ну так я понял, что надо сначала год выцепить, потом месяц и потом день. Если как Лион предлагает, то это упрощает задачу до минимума, а если выцеплять года и т.д. - тут сложнее.  По идее одним стримом и должно быть главное задачу правильно понять. Надо у Григория спросить


Дима Жуков
[11:47 AM] 
Попробуй, может получится


Shtramak [11:49 AM] 
Одним стримом не может быть хотя бы по причине того, что что бы получить все данные по одному дню, нужно пройтись по всей коллекции, а затем уже работать с этой выборкой... А написать вермишель, которая через точки записывается в одну строчку - это не один стрим. Я так понимаю, что если вызвал терминальную операцию - считай стрим закончил

vch [11:54 AM] 
@Li0n13 Тут вопрос в критериях...
Если в функции 1 раз употребляется слово `stream` и ни одного раза `for` или `forEach` - то такое тебе подойдёт?
Выгоды в скорости не будет, но из любви к искусству - можно и соорудить такое.
 3 replies Last reply 15 days ago View thread
Rostyslav [12:02 PM] 
uploaded and commented on this image: Screenshot_4.jpg
1 Comment
Всем привет!  Подскажите, такой вывод метода верный? Пока сделал через цикл.



vvviiit [12:02 PM] 
нет

[12:02] 
в одном дне у тебя перебор каллорий

[12:03] 
и isexceed должно быть true

Rostyslav [12:04 PM] 
А перебор разве не 2000 каллорий?


vvviiit [12:04 PM] 
да, но это за целый день

[12:05] 
если ты перебрал каллорий за целый день, то у каждого блюда в этом дне будет true


[12:06] 
да, и калория, конечно же, с одной л, простите:)

[12:07] 
Т.е UserMealWithExceed - это запись одной еды, но поле exceeded будет одинаково для всех записей за этот день.


astronarh 
[12:22 PM] 
uploaded and commented on this image: Снимок.GIF
  1 Comment
 
На сколько я понимаю должно быть как то так.

vvviiit [1:07 PM] 
ага

Mart [2:39 PM] 
двумя последовательными foreach делается нетрудно, а вот лямбды - темный лес.. спасибо за книгу, пойду читать

Mart [2:50 PM] 
кстати кто-нибудь эплаил патч через git bash?

micredis [2:58 PM] 
Ответ на вопрос на этом канале: # git
Shalukhau Dzmitry
Где-то проскакивал вопрос по накатыванию патча из консоли: 
git apply --directory=src/ Prepare_to_HW0.patch
Posted in #gitOct 25th at 6:52 PM
(edited)


OlegP [6:00 PM] 
а должны ли быть отсортированы по дате конечные результаты в общем случае?
Правильно ли я понимаю, что в нашем случае такая сортировка обеспечивается тем, что стрим создается из ArrayList?


Shtramak [6:14 PM] 
@OlegP ну, про сортировку в ТЗ не было ни слова, так что по ходу не обязательно... Ведь данные так же могут заходить в не отсортированном порядке. Ну, а ArrayList за сортировку не отвечает.

OlegP [6:17 PM] 
@Shtramak По поводу сортировки и ArrayList я имел в виду, что из-за создания стрима из него, изначальный порядок сохраняется, вне зависимости от того отсортированы данные или нет.

Shtramak [6:19 PM] 
Кстати, не задумывался, что вылетает после фильтра... Обязательно ли сохраняется порядок, надо будет глянуть на досуге ) Хотя по идее должно бы...


[6:22] 
а вот при параллельном стриме явно порядок не обязан сохраняться...


OlegP [6:22 PM] 
Я еще не успел основательно вникнуть в стримы, конечно, но понахватался разного. И, как я понял, свойства стрима отличаются в зависимости от его источника, и, кстати, сохранение порядка съедает некоторые ресурсы, потому, при отсутствии не обходимости сохранять порядок, можно стриму говорить, что он .unordered(), что должно ускорить его обработку в общем случае.


Shalukhau Dzmitry [6:22 PM] 
Если ты ставишь ordered - в стриме ставится метка, что коллекция должна быть отсортирована


[6:23] 
И не важно паралельно или последовательно.

[6:23] 
Т.е. sorted()

Shtramak [6:24 PM] 
после фильтра или до? если после, то будет отсортирована, если сортед до фильтра и стрим параллельный - то нет


[6:25] 
правда вопрос кто будет сортить а потом фильтровать )))


OlegP [6:25 PM] 
какая разница, если последовательно обрабатывать

Shtramak [6:25 PM] 
параллельный стрим обрабатывает не последовательно

OlegP [6:25 PM] 
больше работы немного)


[6:25] 
в параллельном - да

Shtramak [6:26 PM] 
или ордеред и паралелльный ставит в условия последовательной обработки?


OlegP [6:26 PM] 
а фиг его знает) я слишком мало со стримами общаюсь)

[6:27] 
да и с джавой у меня не очень длительные отношеня


Shtramak [6:27 PM] 
... надо глянуть )

OlegP [6:27 PM] 
:grinning:

Shtramak [6:27 PM] 
Ну, мы тут для того и собрались что бы скиллы подтянуть


OlegP [6:27 PM] 
потому и выношу возникший вопрос, мало ли у кого-то есть готовый ответ.


[6:28] 
ладно, перестаю флудить)

[6:30] 
я думаю, что сортировку не просят, т.к. потом все данные на странице можно отсортировать по любому полю и нет смысла изначально сортировать

Innokenty [7:05 PM] 
я правильно понимаю, что к 2 ому надо сделать вступительное задание?


Few
[7:06 PM] 
Если купил ревью кода,  то сделать и сдать до 31

Max [7:06 PM] 
Я так понимаю, что да)


Innokenty
[7:07 PM] 
все установить.. я прочитал. очень муторно, надо сидеть разбираться. сама по себе джава очень простая, а вот все эти надстройки это как линукс устанавливать..


[7:07] 
я даже со слаком не разобрался, первый раз.

[7:08] 
всмысле надеюсь тут не выгонят если не сделал, что положено, как на платном в универе  )


Max [7:08 PM] 
Простая джава?) ого) А установки и настройки - это да, много времени отнимают

Few
[7:08 PM] 
Выполнение заданий на твое усмотрение


[7:09] 
Но без этого пользы будет маловато


Max [7:09 PM] 
Согласен

[7:09] 
Даже если не сделаешь задание, пытаться надо. Параллельно много нового узнаешь)

Innokenty
[7:10 PM] 
ну а что сложна на джаве.. я 10 лет назад асоиу закончил. у нас был турбо паскаль, ассемблер, дельфи, немного с+ .. год назад купил курс, понравилась многопоточность... очень интересная тема.. но конечно плаваю.. и все эти надстройки типа мавена, шаблонов проектирования, тогда такого не было.. плаваю.. надеюсь понять, изучить..


[7:10] 
купил курс javarush*


Max [7:11 PM] 
Тогда понятно) Я ни на каком языке до этого вообще не прогал, так что тяжеловато идёт)


Innokenty [7:12 PM] 
я не знаю как все, но по мне так лучше перефлудить, чем недофлудить.. потому что кому то просто удается, а кто то тупит.. я реально тупой в этих надстройках... прост не понимаю теорию, при этом практика всегда дается очень легко.. т.е. ассемблер очень простой для меня язык, а высокоуровневое дается с трудом, потому что приходится изучать чужое..


[7:13] 
Max а что конкретно тяжеловато, в чем непонимание?


Benkoff [7:17 PM] 
добрый вечер (или что другое)! читаю задание и в Замечаниях к HW0 первым пунктом значится "Код проекта менять можно! ", значит ли это, что в классе модели можно добавить дополнительное поле и соответственно изменить конструктор?


Few
[7:19 PM] 
Я менял ради,  а уж как Григорий предлагает решить,  узнаем 2го числа


[7:21] 
*ради упрощения кода в целевом методе

Max [7:51 PM] 
@Innokenty , много чего) Столько всего ещё надо узнать, а хочется ещё больше)


Benkoff [8:55 PM] 
подумал и понял, что поле ни к чему. но, добавив метод, возвращающий дату без времени в UserMeal, уложился в 2 стрима. в один не получается, так как при работе со вторым происходит сравнение с результатом обработки первого. по итогу получается или вложенные циклы/стримы и O(N*N) в одну строчку, или 2 последовательных стрима и O(N).


Миша [9:26 PM] 
Небольшая думка о создаваемом нами проекте (привет, совы, в прочем и жаворонкам добрых снов).
Делаем мы программу-подсчетов калорий приемов пищи, которая может сортировать по дате и времени, а так же отмечать дни ,в которых превышен порог,
который выставляется в профиле. Приемы пищи читаются создаются, редактируются, удаляются - CRUD.
Так же они являются в нашей программе Entity(UserMeal)-то бишь объектом в java\строкой в таблице БД  и DTO(UserMealWithExceed) - объект, который передается из сервисного слоя в контролер, а там дальше в отображение(view). Источником данных является БД.
Еще можно добавить примерные прикидки по количеству данных. Пусть гипотетический сударь\сударня из тех худеет\спортсмен и кушает шесть раз в день, понемножку.
С округлением, это получается 22к записей в базе на пользователя за 10 лет. Я так понимаю, это довольно мало,что для sql, что для java.
Подсчитал немного, на 64 битах JVM это примерно  3-4 мб памяти чистых данных, 
не считая саму Jvm и оверхэд(я пока толком не знама, что это, дайте хоть потешить эго умным словечком). 
С другой стороны , если одновременно обратятся ,10 человек - это уже 40 мб,50- 200, и так далее.
 Так вот , вопрос у меня есть. Почему мы сортируем  в java, если могём в sql запросах  where использовать(это за промежуток по времени).
 За превышение нормы(exceed) не уверен(знания не хватает), но думается , что можно, ибо достаточно гибкий язык запросов.
 Или это все сугубо из-за того что проект учебный, и мы постепенно к этому придем? И тогда наш hw0 таки да, и правда ознакомительный.


Дима Жуков [9:27 PM] 
возможно чтобы познакомиться с stream api

[9:27] 
и date api

[9:28] 
сортировать sql это логично конечно имхо


vch [9:29 PM] 
@Миша Сортировать в sql пока невозможно по причине его отсутствия в данный момент... Уже в HW2 хоть и без sql, но из репозитория будут выходить отсортированные данные


Shalukhau Dzmitry [9:30 PM] 
@Миша Есть много способов реализации конечно. Например, а что если мы в качестве БД будем nosql использовать? Или у нас уже данные загружены 1 раз (ведь в отличии от PHP джава не умирает между запросами). И нам нужно не грузить их 2 раз, а использовать существующие. Это просто примеры, когда такой код вполне себе будет жить в реальных проектах


Lezenford [9:43 PM] 
Если мы используем гибернейт то там нет прямого указания запроса в бд, он генерирует их сам. Так то да, выгоднее генерировать выборку сразу в бд - это и выполнится быстрее, чем отдавать все строки и время на обработку результатов в джава не будет. Но я пока так мне понял как можно заставить гибернейт заниматься выборкой... только полные лито точечные значения


[9:43] 
Правда можно попробовать хранимые процедуры добавить...

vch [9:43 PM] 
@Lezenford HQL?..


Дима Жуков [9:44 PM] 
criteria какая нибудь


[9:44] 
может

Lezenford [9:45 PM] 
@vch вариант.  его еще не видел

Дима Жуков 
[9:45 PM] 
или это одно и тоже) скоро узнаем


vch [9:45 PM] 
@Дима Жуков совершенно разное


Shalukhau Dzmitry [10:34 PM] 
Только что закончил HW0 - и я тоже не представляю, как 1 стримом ее решить. 2 получилось.


OlegP [10:37 PM] 
я так понимаю, плохим тоном будет делиться в общем чате кодом, Никто не хочет хотя бы на уровне логики решения обсудить, без реализации? Или лучше это в личке делать?


[10:37] 
может родится идея одним стримом написать? )

vch [10:38 PM] 
@OlegP пока не стоит публично. Интересные решения разные могут быть, ещё целая неделя есть.



----- Friday, October 27th -----
OlegP [12:01 AM] 
Понятно, это как спойлерить сюжет нового выпуска сериала . Просто уже отвык работать в темпе группы, получается - идешь дальше, не получается - дальше тупишь, а тут, вроде, получилось, а идти дальше нельзя, вот и подмывает.


Миша [4:21 AM] 
@Дима Жуков, так и есть наверно. 
@vch, я так и написал, что задача учебная и ознакомительная, с заглушкой. Имхо здесь большая часть народу с javarush, поднять базу данных, создать табличку и запросы к ней, это уже могём. 
@Lezenford, ты разве не Javarush? О, тогда тебя ждет интересная тема.)


Миша [4:29 AM] 
@Shalukhau Dzmitry, как я знаю в плане сортировки\фильтрации nosql не уступает sql. Jpa успешно поддерживает Nosql тоже.  JVM не умирает, это да, зато теряются ссылки на объекты, и мусорщик успешно мочит их.    Ведь мы реализуем mvc и все что отдаем из контролера как раз такие объекты. И даже если мы будем хранить на уровне сервиса, это при одновременном подключение многих пользователей может привести к ситуации,которое я описывал.  Перечитай мое сообщение, пожалуйста.


[4:31] 
Вообще, я видимо промахнулся, надо было в general писать=) За флуд, извините. (edited)

Shalukhau Dzmitry [8:04 AM] 
@Миша основная мысль была в том, что этот код вполне может существовать и работать в проде. Способов реализации много. 
Насчёт объемов: весь вопрос лишь в том: сколько пользователей может одновременно обратиться? Ведь, сам сказал, что сборщик мусора работает. Давай прикидывать: для среднего приложения 10 запросов в секунду это пик. Т.е. данная реализация будет жрать 50 мб оперативы. Хотя, если тебе нужны только отфильтрованные данные - тогда sql лучший выбор.


Миша [8:36 AM] 
@Shalukhau Dzmitry, я понимаю, что это может работать в готовом продукте=) Просто на этом курсе мы  ведь учимся в том числе тому, как писать оптимальней, а точнее оптимальности алгоритмов. И если отвлечься от конкретики, я так же понимаю , реализаций и методов решений какой-либо задачи существует много, но это не значит что все они являются допустимыми,хоть и работают.  Я считаю, тут в пример можно привести задачу "забить гвоздь". Да, к этой задаче можно подойти творчески- то бишь  забивать с песней,танцами  или забивать клавиатурой, кулаком, трактором, отбойным молотком или лбом. Все эти варианты работают и существуют,но все же правильней взять обычный молоток.
О данной реализацией , ты говоришь о нашей дз функции? Может быть. Бум смотреть, что дальше.


Benkoff [11:47 AM] 
исключительно из любви к чистому искусству сподобился на написание метода лямбдами в 1 строчку :slightly_smiling_face:, но O(N*N) - пока приходится при создании каждого UserMealWithExceed пробегаться по входящему списку.
вот, если через mapreduce разбить входной стрим на группы по дате, а потом внутри каждой группы провести расчет превышения нормы и сравнение с исходными данными, получив при этом необходимые для UserMealWithExceed boolean, и уже после этого собрать все в результирующий список... 
надеюсь, эти рассуждения вслух никому не мешают делать задание? вдруг совместными усилиями да и удастся получить у Григория обещанные бонусы и скидку за оптимальный вариант решения))


Dinara [1:59 PM] 
подскажите, плиз, кто сделал за O(n). мне пока придумался только вариант с ковертацией в мапу в первом стриме, а во втором подстановка сосчитанного значения в мапе в окончательный лист. Можно ли БЕЗ мапы? только с листами?


Dinara [2:41 PM] 
подумала и поняла, что вроде нельзя)

Dmitry Neustupov [3:31 PM] 
@Dinara ты мыслишь в правильном направлении )


tema.emelyan [4:36 PM] 
@Dinara а зачем без мапы?

tema.emelyan [4:45 PM] 
можно без мыпы, но там пару костылей делать нужно

vsimonov [5:15 PM] 
Как получается конвертируешь в мапу, за ключ будет дата (упрощённая LocalDate) и в виде значения сумма колорий за день?
digranate
подскажите, плиз, кто сделал за O(n). мне пока придумался только вариант с ковертацией в мапу в первом стриме, а во втором подстановка сосчитанного значения в мапе в окончательный лист. Можно ли БЕЗ мапы? только с листами?
Posted in #hw0Oct 27th at 1:59 PM


Dinara [5:51 PM] 
@vsimonov да, я так сделала

[5:52] 
Да что-то я подумала, что если в стриме по листу (который второй) делать запрос из мапы, то это уже не будет O(n), потому что худшая сложность get из мапы это не O(1)... Но это видимо уже перебор)
Artyom Emelyanenko
@Dinara а зачем без мапы?
Posted in #hw0Oct 27th at 4:36 PM
(edited)


vch [6:06 PM] 
@Dinara если говорить про HashMap, то считается, что get - это O(1). Там есть нюансы для случаев одинаковых хэшей, но на больших объёмах это можно не учитывать.


Dinara [6:07 PM] 
аа, ясно, ну тогда вообще все круто

vch [6:19 PM] 
@Dinara Единственное - тебе никто не гарантирует, что стрим вернёт именно HashMap (это даже оговаривается в документации), а не какой-то другой Map.
Но большинство программистов верят в разработчиков Java, что они по умолчанию возвратят наилучшую реализацию Map.


vsimonov [6:20 PM] 
А как ты проверяешь на попадание по времени?
digranate
@vsimonov да, я так сделала
Posted in #hw0Oct 27th at 5:51 PM


Dinara [6:26 PM] 
мм, не очень поняла вопрос. с помощью filter фильтрую.


vsimonov [6:30 PM] 
Ну ты фильтруешь лист уже а не МАП?


Dinara [6:40 PM] 
в мапу значения попадают из листа, соответственно, если лист отфильтрован, то лишних значений в мапе уже не будет

vsimonov [6:44 PM] 
У тебя вмапе значения уже отфильтрованные по времени ? И значения с суммой ща день?


[6:46] 
Нужно же отфильтровать по времени и подсчитать сумму калорий в этих днях


[6:46] 
В реальных данных дней может быть сотни

Dinara [6:47 PM] 
а, сорри, в мапу я не фильтрую конечно. иначе там не правильно посчитается сумма. фильтрую только во втором стриме


Zamyslov Oleg [6:48 PM] 
Сначала считаем калории за день, пишем в мап, потом фильтруем список и лезем в мапу за проверкой дня. Вроде так надо?


Dinara [6:49 PM] 
у меня так же


vsimonov [6:49 PM] 
А когда ты фильтруешь список ты результат этого фильтра во что преобразуешь?


Dinara [6:50 PM] 
ну там надо преобразовать тот объект коорый у нас есть в тот, который нам надо и возвратить лист


Zamyslov Oleg [6:51 PM] 
Я перебираю список, если в промежуток времени попадает, то записываю новый обьект в результирующий лист, который метод возвращает


vsimonov [6:52 PM] 
Пебираешь стримами или цыклом?

Zamyslov Oleg [6:52 PM] 
Стримом. Через filter


[6:53] 
Первым стримом делаю мапу, вторым все остальное

vsimonov [7:01 PM] 
Так значит первый стрим делает мапу а второй методом is between записывает значения в результиркюующий список. Потом маму и список сравниваем ,верно?


Zamyslov Oleg [7:03 PM] 
А зачем их сравнивать потом? Сразу готовый лист делаю с нужными обьектами и сразу его возаращаю


Nik [7:18 PM] 
@vch а так разве нельзя вернуть конкретную коллекцию ? stream.collect(toCollection(HashMap::new));


Shalukhau Dzmitry [7:19 PM] 
@Zamyslov Oleg Нужно сначала подсчитать калории для каждого дня (чтобы знать, есть ли превышение), а потом только создавать объекты.


[7:21] 
@Nik можно, но в твоей реализации  HashMap придет пустой. Либо ошибка будет. Тебе нужен collect(Collectors.toMap(...)) с соответствующими ключами и значениями (edited)

vch [7:23 PM] 
@Nik Да, что-то такое я и имел в виду. Конечно, код будет в нашем случае иной немного.


russell [7:23 PM] 
Привет скажите, а как вы тестируете?


Nik [7:25 PM] 
ну я для примера код привел, не для конкретной задачи конечно

vsimonov [7:28 PM] 
Каким образом? У тебя же мапа с калориями не задествованная получается
Zamyslov Oleg
А зачем их сравнивать потом? Сразу готовый лист делаю с нужными обьектами и сразу его возаращаю
Posted in #hw0Oct 27th at 7:03 PM


[7:29] 
Нужно же первую мапу с датами сравнить с датами из второго списка который отфильтрован по времени тогда родится результирующий

[7:30] 
Список

Zamyslov Oleg [8:05 PM] 
Да. Не вьехал в вопрос и всех запутал. Я во втором стриме сразу проверяю на период времени, если попадает, то создаю новый обьект и в поле exceed ставлю результат сравнения калорий по этому дню и максимальных.. (edited)


[8:07] 
2 стрима. Второй и период проверяет и калории сразу с мапой сравнивает (edited)


Li0n13 [8:36 PM] 
@russell я пока через main. Пробовала разные значения, null и пустой список.


Benkoff [8:39 PM] 
Есть ещё такая мысль: сортируем по дате и идём по стриму, закидывая его в Map<<List<HappyMeal>, Integer>, где Integer - сумма калорий списка, потом разворачиваем flatMap и собираем в нужный список


[8:40] 
Можно ещё просто написать свой коллектор


vch [8:42 PM] 
@Benkoff дальше слова `сортируем` не читал. Сортировка уже даст минимум O(N*logN)


Shalukhau Dzmitry [8:43 PM] 
@Benkoff collect - терминальный оператор, т.е. все равно получается 2 стримами. А мап из листа без collect сложно собрать.


[8:44] 
@Benkoff Но со своим коллектором - хороша идея. Хотя я пока не представляю как...

russell [9:19 PM] 
а на null тоже входной список проверять надо?


vch [9:21 PM] 
@russell up to you


Shalukhau Dzmitry [9:31 PM] 
@russell По хорошему все объекты нужно на null проверять, но метод приватный. И в соответствии с принципами защищенного программирования в приватный метод не должны попадать неверные данные (вызывающий метод должен это обеспечить). Для перестраховки стоит ассерты повставлять (будут видны проблемы в дев енвайроменте, но в прод не пролезет) (https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html)


Lezenford [9:32 PM] 
Есть у меня идея, как решить все это в один перебор... но для этого необходимо поменять boolean поле на ссылочную переменную...


[9:33] 
там вроде говорили в разрешение изменения кода, но выйдет весьма смелое изменение...


[9:33] 
и есть идея без этого, но сложность будет выше чем O(N) но ниже чем O(N*N)

Benkoff [9:35 PM] 
@vch Алгоритм сортировки в джаве работает от o(n) до o(n log n), а сам логарифм, конечно, не линейная функция, но и не квадратичная, о которой идёт речь в задании. Можно и без сортировки, но с нею, кажется, проще. Да и не всегда получится быстрее, пожалуй.
@Shalukhau Dzmitry технически - два, но их можно написать инлайн, что, как по мне, опять же, не очень далеко от оптимального решения.  Хотя, соглашусь, и не идеал. 
Спасибо за живое участие в обсуждении, буду благодарен за другие предложения :)


Shalukhau Dzmitry [9:37 PM] 
@Benkoff Я вот до сих пор не вижу возможности в переходе от одной мапы в другую в рамках 1 стрима без применения терминальной операции. Возможно, я просто упоролся в то, что нужно делать 1 стримом то, что для этого не предназначено или будет читаться как стихи пьяного Маяковского.


[9:38] 
@Lezenford сделай в отдельной ветке - покажешь после четверга результат (если можно). Интересен ход твоих мыслей.


Lezenford [9:39 PM] 
попробую. стоило бы еще стримы посмотреть, ибо вообще ими ни разу не пользовался. но с мапой без проблем прокатит


Nik [9:45 PM] 
@Benkoff а какой алгоритм сортировки O(n) покажет ?


tema.emelyan [9:47 PM] 
@Lezenford я только что сделал штуку про которую ты говоришь. из-за оверхеда прироста производительности правда нет


Lezenford [9:47 PM] 
какую из двух?


tema.emelyan [9:47 PM] 
с булином


Lezenford [9:47 PM] 
почему прироста нет?


[9:48] 
чтение из мапы всегда O(1)


tema.emelyan [9:49 PM] 
я непонятно наверное объяснил. вместо двух проходов один. сложность алгоритма в итоге О(n) и там и там


[9:49] 
мапа и там и там


Viktor [9:50 PM] 
1 проход по списку и сразу готовый результат?
Artyom Emelyanenko
я непонятно наверное объяснил. вместо двух проходов один. сложность алгоритма в итоге О(n) и там и там
Posted in #hw0Oct 27th at 9:49 PM


tema.emelyan [9:50 PM] 
один проход по сравнению с двумя получается медленнее по крайней у меня


[9:50] 
там сильно от тестовых данных правда зависит


Shalukhau Dzmitry [9:50 PM] 
@tema.emelyan для того, чтобы ощутить прирост - необходимо огромное количество данных.


tema.emelyan [9:51 PM] 
ну я довольно много генерил


Shalukhau Dzmitry [9:51 PM] 
Ты разницу просто не замереешь на небольших объемах


[9:51] 
Пару сотен тысяч?


Dmitry Neustupov [9:51 PM] 
@tema.emelyan один стрим и О(n)? )


tema.emelyan [9:51 PM] 
мильЁн (edited)


Viktor [9:52 PM] 
@tema.emelyan стримы в принципе работают медленнее, чем циклы в большинстве случаев


tema.emelyan [9:52 PM] 
у меня на циклах всё


Shalukhau Dzmitry [9:52 PM] 
Где то Шипилев рассказывал про стримы и их скорость... Все там очень зависит от условий, от настроек стрима и т.д.


Dmitry Neustupov [9:53 PM] 
@tema.emelyan делай стримами )


Viktor [9:53 PM] 
Вы используете assaerts в своем коде?
Shalukhau Dzmitry
@russell По хорошему все объекты нужно на null проверять, но метод приватный. И в соответствии с принципами защищенного программирования в приватный метод не должны попадать неверные данные (вызывающий метод должен это обеспечить). Для перестраховки стоит ассерты повставлять (будут видны проблемы в дев енвайроменте, но в прод не пролезет) (https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html)
Posted in #hw0Oct 27th at 9:31 PM


tema.emelyan [9:54 PM] 
ну я же цикл с циклом сравниваю. думаю если начну сравнивать стрим со стримом принципиально не изменится ничего


Иван [9:58 PM] 
помоему суть упражнения в распознании подходит текущий случай сравнения каждого элемента массива с каждым элементом массива для оптимизации


Shalukhau Dzmitry [10:00 PM] 
@Viktor я ленивый, я и на null порой забываю проверять :slightly_smiling_face: Вообще все зависит от случая. Есть вариант, когда выгоднее дать коду упасть.


[10:01] 
@Viktor на "ты". Мы все в равных условиях


Viktor [10:01 PM] 
@Shalukhau Dzmitry просто в основном все гайды по тестам категорически не советуют использовать asserts в коде, тут ты советуешь, подумал есть положительный опыт :smiley:


Nik [10:02 PM] 
а почему асерт плохо использовать?


Shalukhau Dzmitry [10:03 PM] 
Он в дев енвайроменте притормаживает.


[10:03] 
Не сильно заметно, но порой выводит из себя.

[10:03] 
@Viktor есть положительный опыт, но на PHP :slightly_smiling_face:


[10:04] 
@Viktor Можно какой нить гайд для примера?

Viktor [10:06 PM] 
@Nik чтобы asserts работал надо запускать jvm с определенными метками, иначе они будут проигнорированы. Т.е. проверку можно пропустить, забыв указать метки, и сдать кривой проект :smiley:


[10:07] 
по Junit это видео пересматриваю часто https://www.youtube.com/watch?v=Dwk80prrKys
YouTube Computer Science Center
Тестирование Java-программ
 


Shalukhau Dzmitry [10:12 PM] 
@Viktor Idea можно не сложно заставить поддерживать assert. Но это опять таки на любителя. Видео посмотрю.


Viktor [10:14 PM] 
@Shalukhau Dzmitry не спорю, просто прописать метки для запуска, вопрос только в том, будете ли вы всегда прописывать метки и уведомите всех тестеров о них?  ну и плюс вишенкой - смешивание тестирования и логики не очень правильно :smiley:


[10:14] 
и вот в чем не уверен, будут ли asserts проверены при сборке?

Shalukhau Dzmitry [10:14 PM] 
@Viktor assert - не для тестирования в данном случае.


[10:15] 
я имею ввиду assert false != assert из junit

[10:16] 
ассерт тут для того, чтобы быть уверенным, что ты как программист не пропустил невалидное значение в приватный метод. (edited)


Viktor [10:16 PM] 
Я понял, но все же ассерты прочно закрепились как элементы тестирования. Это утверждения и по идее лучше использовать if и если null, то описать логику для null.


[10:17] 
Asserts сам по себе выглядит одиноко :smiley: типо "утверждаю, что тут не null" и все и ничего дальше


Shalukhau Dzmitry [10:17 PM] 
Зависит от того, является ли null допустимым параметром для private метода...


Lezenford [10:18 PM] 
все, реализовал в один прогон через мапу

[10:18] 
еще бы потестить на сколько быстро...


Shalukhau Dzmitry [10:18 PM] 
@Lezenford Супер! После четверга покажешь? Скорость тут не важна.


Viktor [10:18 PM] 
@Lezenford быстро относительно чего?


Lezenford [10:19 PM] 
относительно 2 прогонов стандартным вариантом


[10:19] 
быстрее или медленнее


[10:19] 
хотя их тоже можно реализовать по разному

Viktor [10:19 PM] 
@Lezenford ну протестируйте :smiley: что же мешает

Lezenford [10:19 PM] 
не люблю писать тесты с измерением времени :grin: может на выходных займусь


[10:20] 
ну и в любом случае нужно в качестве резерва подготовить стандартный цикл, без внесения изменений в остальные классы


Viktor [10:20 PM] 
@Lezenford бенчмарк или через main?


Lezenford [10:20 PM] 
через мейн. бенчмарк нужно полистать, я не пользовался. все как то по старинке, ручками...


Viktor [10:24 PM] 
никак не найти простую инструкцию по бенчмаркам :smiley:


tema.emelyan [10:34 PM] 
http://www.baeldung.com/java-microbenchmark-harness
Baeldung
Microbenchmarking with Java | Baeldung
Learn about JMH, the Java Microbenchmark Harness.
Jul 24th at 6:18 PM
 


Viktor [10:34 PM] 
с английским у меня тяжко :smiley:


[10:39] 
хотя вроде все не так сложно, пробовать я конечно же не буду :smiley:

Иван [11:17 PM] 
тут вопрос возник как сделать O(n^2) ибо я только <O(2*n) смог

[11:18] 
я не понимаю где там квадратичный рост может получиться


Lezenford [11:19 PM] 
вложенные циклы


[11:19] 
они будут квадратичны

[11:19] 
потому что на каждый шаг цикла приходится полный проход вложенного цикла


Иван [11:19 PM] 
вложенные циклы дадут квадратичный рост только если в каждом из них будет полный проход этого массива


[11:20] 
тоесть нужно сравнить каждый элемент с каждым


[11:20] 
тут этого впринципе не нужно

[11:20] 
или я чёто не понимаю

Lezenford [11:21 PM] 
ну почему. ты можешь писать лист с записями, а когда идет превышение каллорий - прогонять цикл, удалять старые записи генерить новые


[11:21] 
но уже с превышением


[11:21] 
вот тебе примерно квадратичный рост

[11:21] 
в 1 переборе, формально


[11:21] 
он, конечно +- квадратичный

Иван [11:21 PM] 
это будет 2*n


[11:21] 
тоесть 1 проход и 1 проход


Lezenford [11:22 PM] 
не, это если не вложенные. если вложенные - примерно n^1.6 будет

[11:22] 
проходок будет много


[11:22] 
либо сделать сравнение каллорий - для каждого дня прогонять все записи для поиска суммарного значения

Иван [11:22 PM] 
ну у меня щас один проход в котором я проверяю ленивые условия на время до и время после


Lezenford [11:22 PM] 
вот тут целиком квадратичный - на каждый шаг цикла ты будешь прогонять весь лист по новой для высчитывания суммы

[11:24] 
так то глупых алгоритмов можно придумать очень много)

Иван [11:25 PM] 
я походу не правильно понял условие


Lezenford [11:25 PM] 
можно и три вложенных цикла сделать, если подумать. тогда это даже n^3 будет, но за такие алгоритмы никто тебя не похвалит)


Иван [11:25 PM] 
я понял так: нужно взять входной список UserMeal и превратить его в список UserMealWithExсeed предварительно срезав часть элементов

Lezenford [11:27 PM] 
ну я решал по такой логике: есть список приемов пиши, время и каллории за это время. список превращается в другой список, где добавляется поле про перебор каллорий, если в казанный период времени в тот день было превышение. соответсвенно превышение проставляется для всего дня, а не только с момента когда оно появилось


Viktor [11:29 PM] 
@Иван тебе надо посчитать сколько калорий было съедено за тот день, на который ты создаешь UserMealWithExсeed


Иван [11:30 PM] 
тоесть мне нужно брать 4 элемента и делать с них 1? грубо говоря

Lezenford [11:30 PM] 
нет, элементов окажется 4 так же


[11:31] 
но вот булево поле для всех общее


Viktor [11:31 PM] 
@Иван нет надо взять 4 элемента (завтра, обед, ужин, ночной дожор) посчитать сколько калорий было съедено это весь день и на основе этих данных создать UserMealWithExсeed для каждого приема пищи, которое подходит тебе по времени


Иван [11:31 PM] 
на самом деле там фильтр на с 7 до 12 а это только завтрак тоесть 1 элемент


Lezenford [11:32 PM] 
@Viktor суммарно за день или суммарно за указанный период?


Viktor [11:32 PM] 
@Lezenford pf ltym


[11:32] 
за день

Lezenford [11:32 PM] 
хм, нужно у себя поправить будет


Иван [11:36 PM] 
нужно прогнать 1 раз найти превышения за LocalDate потом прогнать ещё 1 раз выбросив все записи после завтрака

Lezenford [11:36 PM] 
я это сделал в 1 прогон без вложенного цикла)


[11:36] 
но пришлось расширить класс UserMealWithExceed немного


Иван [11:37 PM] 
чем расширил?

Lezenford [11:37 PM] 
ближе к сдаче выкину вариант решения

[11:37] 
пока думайте) спойлерить не хорошо)


tema.emelyan [11:38 PM] 
ты уже спойлернул не хило


Viktor [11:38 PM] 
мне больше понравилось решение с 1 уиклом и 1 стримом, не все же в стримах делать :smiley:


Lezenford [11:38 PM] 
ну я же не сказал что я там сотворил)))


Viktor [11:38 PM] 
@tema.emelyan расширить можно по разному, я ещё методы в некоторые классы добавил :smiley:

tema.emelyan [11:38 PM] 
сказал же. час назад где-то


Иван [11:38 PM] 
весь этот спойлерёж не имеет смысла без понимания да и я пока стримов не касаюсь


Lezenford [11:39 PM] 
ну я не на стриме делал) я сам еще в них не разобрался


Иван [11:39 PM] 
я пока не хочу на стримах


[11:39] 
там ведь написано что можно циклы стримами заменить

[11:40] 
псц утро уже


[11:40] 
у вас вобще какой щас локалтайм? :slightly_smiling_face:


Lezenford [11:39 PM] 
ну я не на стриме делал) я сам еще в них не разобрался


Иван [11:39 PM] 
я пока не хочу на стримах


[11:39] 
там ведь написано что можно циклы стримами заменить

[11:40] 
псц утро уже

[11:40] 
у вас вобще какой щас локалтайм? :slightly_smiling_face:


Viktor [11:40 PM] 
@Lezenford чтобы быстро разобраться, советую пробежаться по задачам JR и там где есть циклы и какие нибудь условия фильтрации/изменения  переписать на стримы.

Lezenford [11:41 PM] 
на выходных сяду. лямбды то я разобрал, а вот на стримы времени нужно поболе


Viktor [11:41 PM] 
мне помогло


Иван [11:41 PM] 
а чё лямды в жаве не как в плюсах?


Lezenford [11:41 PM] 
а локалтайм обычно отсчитывают по мск. во всяком случае так проще всего не путаться


[11:41] 
я хз как в плюсах. я там последний раз работал на 2 курсе института

Иван [11:41 PM] 
ну вот у тебя щас в чатике какой пишет локалтайм


Lezenford [11:41 PM] 
какие уж там лямбды...

Иван [11:42 PM] 
у меня вот 6:41 AM


Lezenford [11:42 PM] 
11 42 pm


Иван [11:42 PM] 
хах


Lezenford [11:42 PM] 
сахалин видимо у тебя)


Иван [11:42 PM] 
владивосток :Р


Lezenford [11:42 PM] 
а да точно, у владика 8 часов у сахалина 9 разница


[11:43] 
или 7 и 8

[11:43] 
короче пора валить спать)

Иван [11:43 PM] 
12 рано ещё


[11:43] 
я в гдето 17 спать иду


Lezenford [11:44 PM] 
я предпочитаю высыпаться)


Иван [11:44 PM] 
ну я всегда сплю гдето по 8 часов в сутки


[11:47] 
да к утру москальские юзеры обычно в кроватку массово уходят

[11:47] 
и тишина

Lezenford [11:48 PM] 
и правильноо. и вообще флуд в ругом топике


chimax [11:57 PM] 
@Иван - мы здесь программируем! Все остальное оставь за бортом (edited)


----- Saturday, October 28th -----
tema.emelyan [12:23 AM] 
в первый раз неправильно померил работу метода за один проход. сейчас результаты такие:
```# Run complete. Total time: 00:05:23
Benchmark (listSize) Mode Cnt Score Error Units
Bench.onePassBenchCycle 4000000 ss 40 911.314 ± 30.612 ms/op
Bench.twoPassesBenchCycle 4000000 ss 40 1572.137 ± 53.563 ms/op
Bench.twoPassesBenchStream 4000000 ss 40 1584.157 ± 57.573 ms/op
```
в один обход значительно быстрее, как, наверное, и должно быть

код бенчмарка если кому интересно:
```@Param({"4000000"})
private int listSize;

private int caloriePerDay = 6000;
private LocalTime start;
private LocalTime end;
private List<UserMeal> mealList;

@Setup
public void setUp() {
start = LocalTime.of(((int) (Math.random() * 11)), ((int) (Math.random() * 60)));
end = LocalTime.of(((int) (Math.random() * 11 + 12)), ((int) (Math.random() * 60)));

mealList = new ArrayList<>();
for (int i = 0; i < listSize; i++) {

int year = (int) (Math.random() * 400 + 1900);
int month = (int) (Math.random() * 12 + 1);
int dayOfMonth = (int) (Math.random() * 28 + 1);
int hour = (int) (Math.random() * 24);
int minute = (int) (Math.random() * 60);
int calories = (int) (Math.random() * 1000);

mealList.add(new UserMeal(
LocalDateTime.of(year, month, dayOfMonth, hour, minute),
"Завтрак",
calories));
}
}

@Benchmark
public List<UserMealWithExceed_> onePassBenchCycle() {
return UserMealsUtil.getFilteredWithExceededOnePass(mealList, start, end, caloriePerDay);
}

@Benchmark
public List<UserMealWithExceed> twoPassesBenchCycle() {
return UserMealsUtil.getFilteredWithExceededCycle(mealList, start, end, caloriePerDay);
}

@Benchmark
public List<UserMealWithExceed> twoPassesBenchStream() {
return UserMealsUtil.getFilteredWithExceededCycle(mealList, start, end, caloriePerDay);
}
```


Lezenford [12:27 AM] 
а какой бенч? где взять библиотеку?

Иван [12:28 AM] 
бенч это прикольно только если не понимаешь быстрее ли алгоритм


[12:29] 
но мы ведь тут пытаемся понять без бенчей


Lezenford [12:29 AM] 
но подтверждение мысли то должно быть

Иван [12:30 AM] 
помоему жирноватое подтверждение :slightly_smiling_face:


Lezenford [12:30 AM] 
например как быстрее собирается StringBuilder? через последовательный вызов append или если каждый раз его для объекта по новому вызывать)


Иван [12:30 AM] 
в каком смысле последовательный вызов?


Lezenford [12:30 AM] 
без теста умозаключения врятли получится)


[12:31] 
ну например stringbuilder.append().append().append

Иван [12:31 AM] 
а это каскадные вызовы

Lezenford [12:31 AM] 
может быть, я мог неверно назвать


Иван [12:31 AM] 
тут да хз


Lezenford [12:31 AM] 
быстрее каскадный

Иван [12:31 AM] 
может быть оптимизация


Lezenford [12:31 AM] 
где то был разбор на эту тему

Иван [12:31 AM] 
а может в обоих случаях быть оптимизация :slightly_smiling_face:

Lezenford [12:31 AM] 
но не на много на саомм деле


tema.emelyan [12:32 AM] 
@Lezenford это JMH - Java Microbenchmark Harness


Lezenford [12:32 AM] 
спасибо, потом посмотрю


Иван [12:37 AM] 
кто в 1 цикл смог?


tema.emelyan [12:38 AM] 
кажется я и @Lezenford

[12:38] 
но пока не точно


Иван [12:39 AM] 
я только в 2  последовательных цикла сообразил

[12:39] 
1 на поиск калорий за день и 1 на отсев по времени (edited)

[12:40] 
но по правилам O(2*n) => O(n)

Mart [1:28 AM] 
я тоже, причем без стримов.. через мапу


LeshaKol [10:36 AM] 
решил без лямбды и стрима, два цикла последовательно. Я так понимаю, что это О(n)?

[10:38] 
кто решил со стримами, на словах может подскажете, под слова подбирать тоже займет долго времени

Dmitry Neustupov [11:09 AM] 
@LeshaKol аналогично циклам - в первом стриме собираем мапу, во втором - фильтруем по времени и создаём новый список, используя уже созданую мапу для поля exeed.


LeshaKol [11:13 AM] 
да, я начал что-то соображать, спасибо. Не мог понять сначала, как вторым стримом пользовать результаты первого. Не устаю поражаться, как походя целые ворохи нового материала дают и надо пытаться его воспринять и применить.


Benkoff [12:17 PM] 
Итератором никто не пробовал пройтись по списку? По идее должно быть очень быстро и в 1 проход


Li0n13 [12:30 PM] 
@Benkoff один или 2 прохода - вопрос алгоритма. Вот придумайте алгоритм, чтобы в один проход и фильтровать по времени, и ванговать, было ли превышение, а там реализуйте хоть на паскале.


Benkoff [12:43 PM] 
Вариантов в общем виде не много: или предварительная сортировка по дате, которая на наших данных будет близка к o(n) + последовательный перебор с составлением итогового списка - в итоге о(2n). Или первым проходом рассчитываем суммарное потребление калорий по каждому дню, сохраняем в Map, а вторым - составляем итоговый список из начального и данных первого этапа. Те же o(2n). Что быстрее сработает - сортировка или закидывание/извлечение в Map - надо тестить. Теоретически все остальные варианты, которые мне приходят в голову, будут медленнее.


vch [12:44 PM] 
@Benkoff по-прежнему очень хочется увидеть сортировку O(N)... (edited)

Миша [1:07 PM] 
@Benkoff, есть еще один вариант. Как выше писали,  необязательно зацикливаться именно на функции. Можно просто сам процесс подсчета калорий за день вынести из нее, считать,например, при каждом создании приема пищи(UserMeal)- конструкторе в отдельный статичный хэшмап добавлять калории или создавать новую дату...

vch [1:08 PM] 
@Миша Звучит очень странно.. Код есть?

grigory.kislin [1:11 PM] 
@Benkoff сортировка двоичной вставкой-мерждем N*logN
по на нашим данным 6 значений мы не делаем заключения о сложности кода
делаем по N


LeshaKol [1:15 PM] 
неужели ни у кого по синтаксису вопросов нет? лекции по стрим АПИ вроде понятны, стоит начать делать реально - муть полная. МОжет, где-то есть годный туториал с задачками?

Valery [1:15 PM] 
@Миша, это в данном задании создание приемов пищи вынесено в main. А так они приходить в метод для фильтрации должны из БД.


grigory.kislin [1:16 PM] 
@LeshaKol а ссылки из урока не подходят?


LeshaKol [1:22 PM] 
хорошие ссылки. когда читаешь - понятно вроде, поскольку на восприятии новинки синтаксиса, типа двойных двоеточий,  кажутся мелочами. Как только надо написать строку, начинается ступор. Примеров тоже много, снаружи понятных, но какая-то стартовая часть пропущена, как мне кажется. Впрочем, я посмотрел не все видосы, хотя много из них не вынесешь.


[1:24] 
тот же .map описан на примерах, как только начинаешь  писать в идее, предлагает параметры, говорящие о том, что основа несколько сложнее. ПРодолжу грызть, что делать, дальше хуже будет.


Dmitry Neustupov [2:23 PM] 
@LeshaKol полезная ссылочка - https://annimon.com/article/2778
annimon.com
Полное руководство по Java 8 Stream API в картинках и примерах
1. Stream 2. Получение объекта Stream 3. Как работает стрим 4. Параллельные стримы 5. Стримы для примитивов 6. Операторы Stream API 6.1. Источники 6.2. Промежуточные операторы 6.3. Те (7 kB)
Aug 9th at 2:35 PM
 


LeshaKol [3:16 PM] 
Большое спс!


Benkoff [4:22 PM] 
@vch @grigory.kislin в джаве, начиная 
с 7 версии, для сортировки не примитивных данных используется Timsort, который даёт сложность от n до n logn. Посмотреть можно, например, тут: https://www.infopulse.com/blog/timsort-sorting-algorithm/. Особенностью этого алгоритма является то, что он очень хорошо работает на данных, которые являются частично упорядоченными, т.е. содержат уже упорядоченные фрагменты. А теперь посмотрим на сервис, где мы применяем алгоритм - это подсчёт калорий по каждому конкретному пользователю. И как же наш пользователь вводит данные? Правильно, последовательно! Сложно представить, что сегодня он введёт данные про свой завтрак, а завтра - про то, что ел месяц тому :) Именно поэтому я и говорю, что в нашем случае сортировка будет очень быстрой, ближе к o(n)
infopulse.com
Timsort Sorting Algorithm
Check out this blog post to learn more about the Timsort sorting algorithm, the one that goes ahead of other algorithms.
 


Nik [4:41 PM] 
у пузырька в лучшем случае тоже n, обычно берут наихудший случай

vch [4:41 PM] 
@Benkoff Для оценки сложности алгоритма я бы брал колонку `Average`, а в некоторых случаях - даже `Worst`. Но уж никак не Best. А иначе можно пользоваться Bogosort и радоваться, что у нас O(N). 
Теперь что касается частично упорядоченных данных. Ты, насколько я понимаю, будешь сортировать по возрастанию. 
Порядок записей у нас зависит не от порядка ввода их пользователем, а от порядка, в котором записи вернёт БД.
Если не указать ей порядок сортировки, то записи будут возвращены в случайном (для нас) порядке.
Но на самом деле всё ещё интереснее - в демоприложении видно, что записи по умолчанию сортируются по дате в обратном порядке. Не знаю деталей алгоритма, но подозреваю, ему не слишком приятна сортировка, противоположная искомой.
Плюс пользователь может выбрать сортировку таблицу по любому полю (обычно сортировка делается на уровне БД) (edited)


darkPlatsWalker [7:33 PM] 
Два цикла последовательно - это ведь O(N+M)? В материалах к задаче(Time complexity) есть такое. А O(N) решения задачи ведь нету.


vch [7:36 PM] 
@darkPlatsWalker А что для тебя M?


darkPlatsWalker [7:38 PM] 
Правильно сказать у меня получилось O(N+N)


vch [7:39 PM] 
@darkPlatsWalker Тогда значит у тебя 2*O(N). Константы при оценке сложности не учитываются, поэтому отбрасываем 2 и получаем красивое O(N)



Benkoff [8:38 PM] 
@vch Попробуем оставить в стороне свойства сферических коней в вакууме :) и вернуться к поставленной задаче. Пусть нам повезло и сервис просуществует 10 лет, плюс найдется к-нить последовательный приверженец дробного питания. В итоге получится 6*365*10, аж 20 тыс. записей - ну ни разу не big data. Пусть даже этот пользователь совместно с процессором бд перемешают данные до совершенно безобразно рандомного состояния и сортировка сработает в logn раз хуже требуемых o(n).  Это ровным счётом 4.3, то есть - ничего. А вот дальше к отсортированным данным (неважно в какую сторону) можно применить простейший механизм: последовательно читаем и сравниваем дату, пока она не меняется - суммируем калории и накапливаемые в буфере UserMeal, сменилась - отдаем UserMealExceed и повторяем процедуру для следующего дня. Просто и быстро. И, кстати, без HashMap, куда положить-взять тоже чего то стоит. Да и на выходе упорядоченные данные бесплатным бонусом. 
Впрочем, то, чего от нас хочет Григорий, не имеет к нашей дискуссии ни малейшего отношения :) Лично я склоняюсь к написанию кастомного коллектора, что, похоже, не так уж и сложно.


Viktor [9:10 PM] 
@Benkoff на момент создания UserMealWithExceed вам уже надо знать превышена ли норма, это невозможно узнать пока не пройдешь достаточное количество записей (набрав больше нормы) или пройдя весь день. Даже если вы создадите UserMealWithExceed не заполнив поле exceed, тогда вам придется вернуться к ним и заполнить его. Добавить к этому, что вместо хранения мапы вам придется хранить UserMealWithExceed.
"Лично я склоняюсь к написанию кастомного коллектора, что, похоже, не так уж и сложно." - тут опять же проблема, какой коллектор ни пиши, стримы берут элементы поочередно. Если 3 нужные вам записи не будут превышать норму, а четвертая будет, то получаться фейковые данные.


[9:13] 
На мой взгляд одним стримом решить невозможно (в один проход, а не стрим в стриме). Т.к. стрим это итератор, он ничего не знает ни о прошлых элементах, ни о будущих. Он идет поочередно по каждому элементу. 
В то же время, если кто-то сможет создать стрим, который будет знать обо всех элементах коллекции в любой момент прохода по коллекции, я с удовольствием посмотрю такое решение :smiley:


Viktor [9:13 PM] 
На мой взгляд одним стримом решить невозможно (в один проход, а не стрим в стриме). Т.к. стрим это итератор, он ничего не знает ни о прошлых элементах, ни о будущих. Он идет поочередно по каждому элементу. 
В то же время, если кто-то сможет создать стрим, который будет знать обо всех элементах коллекции в любой момент прохода по коллекции, я с удовольствием посмотрю такое решение :smiley:


Dan [10:03 PM] 
Открыл, посмотрел задание, начать читать материалы. Скоро надоело и взял через foreach решил. Кто-нибудь посоветует что прочитать для решения через stream?

Valery [10:09 PM] 
@Dan, там же под задачей есть перечень ссылок. Pуководство по Java 8 Stream и Шпаргалка Java Stream API. Обе с примерами и на русском.

Dmitry Neustupov [10:17 PM] 
@Dan повторюсь -  полезная ссылочка - https://annimon.com/article/2778
annimon.com
Полное руководство по Java 8 Stream API в картинках и примерах
1. Stream 2. Получение объекта Stream 3. Как работает стрим 4. Параллельные стримы 5. Стримы для примитивов 6. Операторы Stream API 6.1. Источники 6.2. Промежуточные операторы 6.3. Те (7 kB)
Aug 9th at 2:35 PM


Dan [10:38 PM] 
@Dmitry Neustupov спасибо!

LeshaKol [11:48 PM] 
на самом деле, в понимании стрима уже надо понимать лямбду, а с ней обстоит тоже все не гладко. https://www.youtube.com/watch?v=DNC6Lknn2AE - объясняет достаточно долго, но минуты с 30 й если смотреть, то что-то вырисовывается (edited)


[11:50] 
и пока нигде не нашел удобоваримое описание groupingBy


chimax [11:52 PM] 
@LeshaKol   а где ты его использовал в HW0? Или так, для себя (edited)

LeshaKol [11:54 PM] 
при изготовлении первой мапы - сгруппировать по датам


chimax [11:55 PM] 
toMap тоже это позволяет сделать


[11:56] 
"toMap​(Function keyMapper, Function valueMapper, BinaryOperator mergeFunction)
Аналогичен первой версии метода, только в случае, когда встречается два одинаковых ключа, позволяет объединить значения."


[11:56] 
это из ссылки выше


----- Sunday, October 29th -----
LeshaKol [12:03 AM] 
вот теперь бы понять, что тут в скобках написано и где это расшифровано


chimax [12:03 AM] 
ключ (дата); значение(калории); то, что можно сделать со значением (просуммировать калории) (edited)


LeshaKol [12:05 AM] 
спасибо, добрый человек. видимо, я зачитался

chimax [12:05 AM] 
это без поллитра не понять

Kirilo [1:19 AM] 
после JR подобные алгоритмы как-то сами в голове строятся. Я о карте и ключах с датой... Первая сортировка очень очевидная и со старта я наблюдал, что все практически аналогично сделали... (edited)


Benkoff [5:17 AM] 
@Viktor на момент создания UserMealWithExceed нам нужно знать только то, что касается ОДНОГО дня, а это совсем немного. Грубо говоря, при последовательном движении по отсортированному входному списку процесс его чтения и процесс создания итогового списка идут практически параллельно, завершая предыдущую и начиная следующую итерации в момент смены даты.


Ma3stro [7:18 AM] 
Возможно ли вообще при реализации через циклы сделать O(n)?


Rostish [7:30 AM] 
да

russell [7:31 AM] 
константы отбрасываются


Rostish [7:32 AM] 
лямба выражения, на сколько я понял, призваны сократить колличество кода, увеличить читаемость, упростить жизнь программисту(ам), секвинтальный stream     зачастую немного медленее циклов


chimax [9:22 AM] 
@Rostish лямбды и стримы призваны упростить код, спрятав всю сложность и реализацию в библиотеки. Из-за этого код из императивного (где мы подробно расписываем, что и как должно выполняться) превращается в декларативный, где мы говорим не как делать, а как должен выглядеть результат (аля SQL или HTML). (edited)


[9:26] 
@Ma3stro Да, возможно:два поседовательных цикла дают нам O(N + N) = O(2N) ~ O(N) (edited)

Dan [12:48 PM] 
Даа, стримы это нечто. Пытаюсь усвоить информацию, но тяжело перестраивать логику и мышление. Может кто подсказать, какие операторы стрима использовать в первом и втором "цикле"? До аргументов попытаюсь сам дойти.


chimax [1:00 PM] 
1. ищи оератор для работы с Map
2. ищи оператор для фильтрации; для выполнения чего-либо над каждым элементом; для объедини результат в список; (edited)



[1:02] 
Может, кто знает сайт, где можно онлайн порешать задачки на Stream API?


Viktor [2:00 PM] 
@Benkoff стрим это итератор, он видит каждый элемент ровно 1 раз, а вам надо 2:
1. посчитать калории
2. создать UserMealWithExceed 
В любом случае рассуждать можно много, я бы лучше взглянул на код, если вы уже реализовали свою идею.


Dan [2:02 PM] 
Код в студию! Мне тоже интересно

[2:03] 
:smiley:


Viktor [2:08 PM] 
@Dan ну не в студию, лучше пока в личку :smiley:

vsimonov [3:03 PM] 
Народ а как ключ из мапы сравнить с листом?


[3:03] 
что есть он или нет его.

Дима Жуков 
[3:15 PM] 
Contains()?

Dan [3:19 PM] 
Ура, первый стрим сделал. Второй будет посложнее


vsimonov [3:22 PM] 
в мапе localdate а в листе usermeal
Жуков Дмитрий
Contains()?
Posted in #hw0Oct 29th at 3:15 PM


Viktor [3:50 PM] 
а что мешает взять у usermeal дату?

vsimonov [4:12 PM] 
В стриме хочу
Sergeev Viktor
а что мешает взять у usermeal дату?
Posted in #hw0Oct 29th at 3:50 PM


[4:12] 
В стриме хочу
Sergeev Viktor
а что мешает взять у usermeal дату?
Posted in #hw0Oct 29th at 3:50 PM


Viktor [4:27 PM] 
хотите в стриме, хотите в цикле, какая разница?


Dan [5:16 PM] 
только у меня ссылка не работает? 
https://tproger.ru/translations/algorithms-and-data-structures (edited)


Миша [5:32 PM] 
@Dan, у меня работает


Dan [5:34 PM] 
Буду искать причину


LeshaKol [5:36 PM] 
не работало. теперь работает


Benkoff [5:45 PM] 
@Viktor @Dan решение в одну строчку со стримом ({return  mealList.stream().... }) пока отправил Григорию в личку, посмотрим, что он скажет. Правда, сделано оно с использованием HashMap. Что касается решения с предварительной сортировкой, без стрима оно настолько очевидное, что нет смысла выкладывать, а со стримом пока не готово - возникает проблема внешней инициализации переменных, изменяемых при итерации.


Дима Жуков [6:07 PM] 
А стрим один?


Dan [6:49 PM] 
Судя по началу, строчка одна, но стримов всё-таки два.

Дима Жуков [6:50 PM] 
Скорее всего не пройдет решение :-)


tema.emelyan [6:52 PM] 
а что решить нужно? в один проход стримами или циклом, чтобы при этом сложность O(n) была?


Дима Жуков [6:52 PM] 
Да

tema.emelyan [6:55 PM] 
@Benkoff ты в одну строчку стримами решил или в одну строчку стримами со сложностью O(n)? (edited)


Дима Жуков [6:55 PM] 
Ну можно ещё решить N = NP или N != NP заодно))) но наверняка сложновато для нас будет


[6:56] 
P = NP вернее. Ошибся


tema.emelyan [6:57 PM] 
P == NP тогда уж чтоб совсем :smiley:


Дима Жуков 
[6:57 PM] 
Все правильно


[6:58] 
P == NP или P != NP

tema.emelyan [6:58 PM] 
я стримами в один проход с О(н) вообще ума не приложу как


Дима Жуков [6:59 PM] 
Может это как черная кошка в темной комнате?) Тяжело ее найти если ее там нет тем более)) хотя вроде ж кто то решил


vsimonov [7:06 PM] 
как хочешь, у меня получился один стрим и один цикл
Artyom Emelyanenko
а что решить нужно? в один проход стримами или циклом, чтобы при этом сложность O(n) была?
Posted in #hw0Oct 29th at 6:52 PM
 


tema.emelyan [7:09 PM] 
@vsimonov ну это простое дз ты мне написал. тут господа решали вопросы посерьёзнее я так понял


[7:10] 
 Grigory Kislin
@Lezenford после 1-го урока с разбором HW0 начинается его обсуждение и предложение собственных вариантов. по поводу режения O(N) с одним return я писал- мне в личку решение и +5% бонусов
Posted in #generalOct 28th at 1:14 PM


vsimonov [7:10 PM] 
Они уже извращаются от делать нечего. Пробуют в одну строку написать.Пока время есть можно потренироваться. Потом на это времени не будет
Artyom Emelyanenko
@vsimonov ну это простое дз ты мне написал. тут господа решали вопросы посерьёзнее я так понял
Posted in #hw0Oct 29th at 7:09 PM


tema.emelyan [7:12 PM] 
"извращаются от делать нечего"



[7:12] 
лол

vch [7:12 PM] 
@vsimonov для развлечений всегда найдётся время


vsimonov [7:14 PM] 
У всех свои забавы я никого обидеть не хотел :slightly_smiling_face: Может в понедельник и я этим озадачусь


Дима Жуков 
[7:16 PM] 
Кстати в решении метод reduce не замешан случайно??? Когда смотрел про стримы, мне показалось может как то с ним надо поиграть

vch [7:17 PM] 
@vsimonov Ну, так-то и твоё решение ещё есть куда оптимизировать.


Дима Жуков [7:18 PM] 
Или писали свой коллектор


shaakem [7:19 PM] 
Всем привет. Подскажите, возможно я не правильно понимаю алгоритм работы метода getFilteredWithExceeded. В этот метод мы передаем параметры типа LocalTime, например startTime 9:00 и endTime 23:00. Это время у нас относится априори к одному дню? Или может быть такое что startTime - 9:00 - 30 октября и endTime 23:00 - 1 ноября. Спасибо заранее.


vsimonov [7:19 PM] 
да если второй стрим сделать.Щас попробую думаю получится но это по большему счёту только для красоты. Особо быстрее не будет. Да и по опыту basejava чем дальше тем сложнее дз пойдут там уже не до красоты будет :slightly_smiling_face:
Vitaliy Churbakov
@vsimonov Ну, так-то и твоё решение ещё есть куда оптимизировать.
Posted in #hw0Oct 29th at 7:17 PM


Дима Жуков 
[7:20 PM] 
Колитесь как сделали...!

vch [7:22 PM] 
@shaakem да, к одному дню.
Т.е. могут передать все записи приёма пищи за неделю.
И время - 8:00-11:00
И мы выведем все завтраки за эту неделю. (edited)
 2 replies Last reply 11 days ago View thread

shaakem [7:25 PM] 



Спасибо! "Т.е. могут передать все записи приёма пищи за неделю." Имеется ввиду mealList? То есть сумму калорий придется считать для каждого дня из mealList?


Viktor [7:25 PM] 
да


shaakem [7:27 PM] 
Спасибо!


Viktor [7:28 PM] 
@Benkoff расскажите потом, как Григорий вам ответит, может на самом деле что-то уникальное изобрели :smiley:


vsimonov [7:29 PM] 
в любом случае стрима два,чудес не бывает


vch [7:31 PM] 
@vsimonov Ты ещё небось в Деда Мороза не веришь



tema.emelyan [7:32 PM] 
@vsimonov а если через циклы решать, то цикла тоже два?


vsimonov [7:33 PM] 
да, тока параллельных
Artyom Emelyanenko
@vsimonov а если через циклы решать, то цикла тоже два?


tema.emelyan [7:33 PM] 
но подозреваю, что тоже можно


vch [7:33 PM] 
@tema.emelyan а в чём разница?


vsimonov [7:34 PM] 
круто чё, ждём твоего решения в личку
Artyom Emelyanenko
как через один цикл решить я знаю, как через один стрим нет
Posted in #hw0Oct 29th at 7:33 PM


tema.emelyan [7:34 PM] 
@vch что я плохо в стримах разбираюсь =( (edited)


Дима Жуков 
[7:37 PM] 
А сложность какая цикла этого? O(N)?

tema.emelyan [7:38 PM] 
ну да


Дима Жуков 
[7:39 PM] 
Шикарно


tema.emelyan [7:40 PM] 
ну это при условии, что вносится изменение в один из классов

[7:41] 
но сенсей говорит, что изменение правомерное впрочем

Дима Жуков [7:41 PM] 
Так ты скидку взял?


tema.emelyan [7:42 PM] 
я так понял оглашения результатов ещё не было (edited)


Дима Жуков [7:42 PM] 
Ну все равно. Красаво


chimax [7:43 PM] 
Возможно, одним циклом можно сделать, если сделать внешнюю переменную в которую суммировать калории. При этом в кажой итерации сравнивать текущее значение даты с предыдущим. Если совпадают, то продолжить суммирование, если дата новая - значит начинается новый день и машины туда-сюда))) - сравнивать сумму калорий с эталоном и формировать новый объект (DTO with exceeded) (edited)


russell [7:43 PM] 
Правильно ли я понимаю что связано c equals and hashcode


tema.emelyan [7:44 PM] 
@chimax у тебя предполагается отсортированность входных данных


russell [7:44 PM] 
сортировка nlogn


vch [7:44 PM] 
@chimax не забудь проставить флаг для предыдущих записей за этот день. И отсортировать предварительно записи. А после обработки - вернуть прежний порядок записей.


chimax [7:44 PM] 
а кто мешает выбрать коллекцию в которой данные сортируются

tema.emelyan [7:45 PM] 
ну нам же на вход не такую коллекцию дают

chimax [7:45 PM] 
стоп!
" Код проекта менять можно! Одна из распространенных ошибок как в тестовых заданиях на собеседовании, так и при работе на проекте, что ничего нельзя менять. Конечно при правках в рабочем проекте обязятельно нужно проконсультироваться/проревьюится у авторов кода (находится по истории VCS)"


tema.emelyan [7:45 PM] 
для поддержания порядка в коллекциях тратится время


vch [7:46 PM] 
@chimax коллекция сортируется в БД, в порядке, указанном пользователем. В нашем утилитном классе мы не имеем права изменять порядок выходных данных.


chimax [7:46 PM] 
у нас сейчас нет бд

tema.emelyan [7:48 PM] 
нецелеобразно использовать отсортированную коллекцию только для одного нашего метода. все операции в таких коллекция гораздо дороже


chimax [7:48 PM] 
хм, а я думал, что мы развлекаемся


[7:48] 
читать потом ваш код с одним ретурн очень дорого по времени, что в итоге скажется на скорости его понимания отдельным программистом (edited)


vch [7:50 PM] 
@chimax тем больше шансов, что нас не уволят. Незаменимость - это здорово.



chimax [7:50 PM] 
мне это знакомо)

chimax [7:58 PM] 
ListIterator - двусторонний итератор)


[7:58] 
может, поможет

Дима Жуков [7:59 PM] 
Это что то новенькое


chimax [7:59 PM] 
малоизвестная фича листа)


[8:00] 
для тех, кто не читал Эккеля)

vsimonov [8:08 PM] 
который раз ты топяву проходишь?
chimax
малоизвестная фича листа)
Posted in #hw0Oct 29th at 7:59 PM


chimax [8:12 PM] 
Эккель, 339 стр


Viktor [8:13 PM] 
@chimax ну штука полезная (иногда), но как бы её тут применить? О_о

Дима Жуков [8:13 PM] 
Нельзя просто взять и знать все об java core... Надо почитать.


vsimonov [8:17 PM] 
кто подскажет как в стриме сделать сравнение caloriesperday и map.value


Viktor [8:19 PM] 
на каком этапе? финальная операция или промежуточная?

chimax [8:21 PM] 
это скорее всего отложенная операция (промежуточная) (edited)


[8:21] 
терминальная(финальная) собирает все значения в коллекцию

[8:22] 
collect(Collectors.toList())

[8:23] 
Дайте лучше ссылку на сайт для решения задач на лямбды и стримы online (edited)

Viktor [8:24 PM] 
"терминальная(финальная) собирает все значения в коллекцию"
foreach ничего не собирает :smiley:


chimax [8:24 PM] 
я все же опирался на текущую задачу, а так да - ты прав


Viktor [8:25 PM] 
"Дайте лучше ссылку на сайт для решения задач на лямбды и стримы online"
если пришел с JR то открывай выполненные дз, пиши на них тесты и потом меняй на стримы :smiley:

chimax [8:26 PM] 
отказался от JR на 20м уровне в пользу других курсов (edited)


Viktor [8:29 PM] 
ну вроде до 20 уровня, там тоже были задачки с коллекциями. Не видел ресурса по стримам с задачами online :smiley:

chimax [8:29 PM] 
я тоже не могу найти


[8:29] 
странно, что его нет


Viktor [8:30 PM] 
а смысл делать ресурс на определенную технологию, которая не является новинкой?

vsimonov [8:31 PM] 
промежуточная
Sergeev Viktor
на каком этапе? финальная операция или промежуточная?
Posted in #hw0Oct 29th at 8:19 PM


chimax [8:31 PM] 
в 2015 году в мире Java это была долгожданная новинка

Viktor [8:32 PM] 
@vsimonov тут ещё смотря какую операцию делать собрались, но не суть что-то типо этого map.get(key) > caloriesperday


[8:33] 
@chimax но не в программировании, как я понял лямбда уже успешно используются в куче других языков (но это не точно), поэтому смысл сейчас делать курс, который никому не нужен, большинтсву достаточно инструкции


chimax [8:35 PM] 
ты прав, лямбдам сто лет в обед и в функциональных языках они давно (edited)


[8:36] 
курсов как раз полно, а мне нужны задачки онлайн

vsimonov [8:36 PM] 
блин стрим то у меня идёт по mealList, что это за операция будет? по сути должно по типу if else но в стримах такого нет
Sergeev Viktor
@vsimonov тут ещё смотря какую операцию делать собрались, но не суть что-то типо этого map.get(key) > caloriesperday
Posted in #hw0Oct 29th at 8:32 PM


Viktor [8:41 PM] 
@vsimonov стримы позиционируются "рассказать что сделать, а не как это делать". Вот и скажите что вы хотите сделать.

chimax [8:42 PM] 
у тебя Map получилось сформировать с помощью стримов? (edited)

vsimonov [8:42 PM] 
да
chimax
у тебя Map получилось сформировать с помощью стримов?
Posted in #hw0Oct 29th at 8:42 PM


chimax [8:44 PM] 
что дальше делаешь?


[8:44] 
напиши словами свою задумку

vsimonov [8:46 PM] 
да всё у меня уже получилось


[8:46] 
.map а там тринарный оператор


[8:47] 
теперь вариант с 2 стримами есть

chimax [8:47 PM] 
а зачем тебе тернарный оператор там?

[8:47] 
тебе надо либо false либо труе

vsimonov [8:48 PM] 
у меня мапа с суммой калорий за день, в зависимости что за цифра я ставлю else или true


Viktor [8:48 PM] 
я тут на help JR видел уникальное решение :smiley: человек запихнул тренарный оператор в условие if


Дима Жуков [8:48 PM] 
> ?  true : false


Viktor [8:49 PM] 
вот такой великолепный if
if (!((i + 1) >= file1.size() && (i + 1) >= file2.size()) ? file1.get(i).equals(file2.get(i)) : false)


Дима Жуков [8:49 PM] 
Вот так?

vsimonov [8:49 PM] 
да типа того
Жуков Дмитрий
> ?  true : false
Posted in #hw0Oct 29th at 8:48 PM


chimax [8:49 PM] 
этот чувак. видимо долго на С кодил

Viktor [8:49 PM] 
главное дочитав до конца строки, не забыть, чтов  начале идет отрицание :smiley:


Дима Жуков [8:49 PM] 
Просто < вернет


[8:49] 
Либо тру либо фалсе

chimax [8:50 PM] 
тернарный оператор не нужен в мапе


vsimonov [8:50 PM] 
если кому надо могу потом кинуть мой варик, я не жадный


[8:50] 
я не сомневаюсь что есть ещё 1500 вариантов решения. Мне нужен тебе нет,
chimax
тернарный оператор не нужен в мапе
Posted in #hw0Oct 29th at 8:50 PM


chimax [8:52 PM] 
как мне говорил Сергей Немчинский - программисты должны меряться друг с другом не количеством лишних строчек а их отсутствием


vsimonov [8:52 PM] 
советую тебе сначала сделать циклами, так будет проще на стримы переделать
Жуков Дмитрий
> ?  true : false
Posted in #hw0Oct 29th at 8:48 PM


[8:55] 
ну ок, у меня 2 строки.и что?
chimax
как мне говорил Сергей Немчинский - программисты должны меряться друг с другом не количеством лишних строчек а их отсутствием


chimax [8:55 PM] 
ты обиделся что ли?


Viktor [8:56 PM] 
@vsimonov если тренарный оператор выглядит так условие?true:false в нем нет смыла :smiley:
Т.к. само условие даст true или false


vsimonov [8:56 PM] 
нет, я не ярый фанат усложнения кода, чем проще тем лучше и пусть это будет несколько лишних строчек
chimax
ты обиделся что ли?
Posted in #hw0Oct 29th at 8:55 PM


chimax [8:57 PM] 
скинь плиз эту строчку с тернарным оператором

vsimonov [8:58 PM] 
нет, не совсем так. на этом шаге уже формируется результирующий лист с данными
Sergeev Viktor
@vsimonov если тренарный оператор выглядит так условие?true:false в нем нет смыла :smiley:
Т.к. само условие даст true или false
Posted in #hw0Oct 29th at 8:56 PM


Viktor [8:59 PM] 
@vsimonov загадками выражаетесь сударь, так не интересно :smiley:


vsimonov [9:01 PM] 
могу в личку кинуть
Sergeev Viktor
@vsimonov загадками выражаетесь сударь, так не интересно :smiley:
Posted in #hw0Oct 29th at 8:59 PM


[9:02] 
кинул
chimax
скинь плиз эту строчку с тернарным оператором
Posted in #hw0Oct 29th at 8:57 PM


----- Monday, October 30th -----
vsimonov [7:57 AM] 
Кто знает материалы след урока можно уже посмотреть?


Dmitry Neustupov [8:04 AM] 
@vsimonov 02.11

chimax [8:48 AM] 
Рассылка первого занятия будет 02.11 (edited)


Few
[8:51 AM] 
Есть же план занятий,  в нем список рассматриваемых технологий,  информации куча


[8:51] 
Времени вот только мало

chimax [8:52 AM] 
План занятий
https://github.com/JavaOPs/topjava/blob/master/description.md
GitHub
JavaOPs/topjava
topjava - Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery
 
(edited)


grigory.kislin [10:57 AM] 
расписание тут: https://github.com/JavaWebinar/topjava
GitHub
JavaWebinar/topjava
Contribute to topjava development by creating an account on GitHub.
 


grigory.kislin [11:04 AM] 
Коллеги, поправки к моему "решения O(N) с одним return +5% бонусов"
один retrun - неверно выразился. он обычно один:) правильно - один проход по List<UserMeal> mealList


danissimo [11:55 AM] 
@grigory.kislin, кажется, получилось одним ретурном. Как показать?


grigory.kislin [11:59 AM] 
один проход +O(N) - мне в личку ссылку на класс

danissimo [12:00 PM] 
5 мин


Vyacheslav [12:57 PM] 
8:04 PM @grigory.kislin что касается решений с одним проходом - присылать любому участнику или только у кого проверяют дом.задание ?


[12:58] 
Пожалуйста подскажите как цитировать сообщения. Везде пишут о копировании серой ссылки времени сообщения.

grigory.kislin [3:09 PM] 
@Vyacheslav c O(N) - всем


[3:10] 
> я так цитирую. ">" в начале
(edited)


Shalukhau Dzmitry [3:33 PM] 
@grigory.kislin знак <  в конце или в начале?

[3:34] 
Не получается. Можно цитировать копируя ссылку (в меню рядом с сообщением "Copy link").

Миша [3:36 PM] 
@Shalukhau Dzmitry, знак больше надо(">текст")

Shalukhau Dzmitry [3:37 PM] 
>текст


[3:37] 
Спасибо :slightly_smiling_face:

Миша [3:37 PM] 
на за шо)

Shalukhau Dzmitry [3:37 PM] 
>Совсем заработался

grigory.kislin [3:39 PM] 
https://get.slack.help/hc/en-us/articles/202288908-How-can-I-add-formatting-to-my-messages
Slack Help Center
Format your messages
Adding text formatting to your Slack messages is easy! Here's a handy selection of formatting options that you can use on desktop and mobile.  Emphasis To emphasize words or phrases, surround your ...
 


chimax [3:45 PM] 
Поясните, как читается подобная сигнатура
<R> Stream<R> flatMap(Function<? super T, ? extends Stream<? extends R>> mapper);


danissimo [4:36 PM] 
читается так: операция flatMap принимает аргумент mapper, тип аргумента — Function. Function — это функциональный интерфейс (см. документацию на Function) с двумя параметрами-типами (type parameters): ? super T и ? extends Stream<? extends R>. Тип — это либо класс, либо интерфейс.

? super T означает любой тип, наследником которого является T, или сам T. Например, существует в Java иерархия типов AutoCloseable и Closeable. Второй — наследник первого. Так вот если в твоём конкретном случае T — это Closeable, то ? super T — это либо AutoCloseable, либо Closeable.

? extends R означает либо сам R, либо наследник R.


[4:37] 
Теперь смотрим на Function<T, R>. T — это тип аргумента операции apply. R — это тип результата этой операции.

[4:40] 
Таким образом, Function<? super T, ? extends Stream<...>> — это экземпляр функционального интерфейса (functional interface) Function, где типом аргумента операции apply является тип T или его родительский тип, а типом результата apply — Stream<...> или наследник Stream<...>.


[4:41] 
Запись Stream<? extends R> означает, что стрим стримает элементы типа R или его наследников.

[4:44] 
Получается, что Function<? super T, ? extends Stream<? extends R>> — это функция преобразования объекта типа T или родителя T в экземпляр Stream или наследника Stream, стримающего элементы типа R или наследника R. (edited)



chimax [4:46 PM] 
Спасибо за развернутый ответ - буду читать))


danissimo [4:46 PM] 
Таким образом, операция flatMap позволяет один элемент исходного стрима, стримающего элементы типа T или родителя T, преобразовать в стрим с нулём, одним или многими элементами типа R или наследника R. (edited)


chimax [4:53 PM] 
:dizzy_face:

shaakem [5:37 PM] 
Привет всем! Подскажите, если, при проходе по mealList, на каждой итерации будет дополнительный проход по 3м элементам другого листа, то сложность ведь будет не O(N)?


danissimo [5:38 PM] 
будет O(3N), что в обобщении эквивалентно O(N)


shaakem [5:39 PM] 
Благодарю!


Viktor [5:44 PM] 
@danissimo почему-то всегда было сложно уловить суть в таких сообщениях :smiley:

[5:45] 
@chimax flatMap переделывает набор стримов в один стрим.


[5:46] 
@chimax если ты вызываешь стрим на листе листов строк -> List<List<String>>.stream()

[5:47] 
то вызвав flatMap(list -> list.stream()) не придеться писать вложенный стрим, ты будешь оперировать списком строк из всех вложенных листов

[5:48] 
объяснил суть, т.к. с flatMap сам не подружился :smiley:


chimax [5:48 PM] 
вы точно хотите моей гибели))


danissimo [5:52 PM] 
@chimax ну вот выбирай :slightly_smiling_face: честно говоря, я не понял, что сказал @Viktor


Viktor [5:52 PM] 
хаха


chimax [5:52 PM] 
))))

Viktor [5:53 PM] 
@chimax я вчера скидывал задачку на стримы, там как раз надо использовать flatMap, попробуй сделать, мне всегда практика больше помогает чем теория :smiley:


danissimo [5:54 PM] 
да, для меня flatMap оказался крепким орешком

Viktor [5:56 PM] 
https://www.mkyong.com/java8/java-8-flatmap-example/

Shtramak [6:03 PM] 
mkyong мастхев в закладках )

Viktor [6:04 PM] 
да тоже нравиться, но обычно мне его поисковик дает :smiley:


Дима Жуков [6:05 PM] 
google мастхэв в закладках)



Viktor [6:07 PM] 
ща бы сказать, что я пользуюсь mail.ru, но это не правда :smiley:


Erick
[9:50 PM] 
наконец-то дошел как решить в один цикл/стрим!! решу, полезу читать всю простыню. полюбому будут спойлеры. да?


Viktor [10:39 PM] 
нет, никто так и не придумал как это сделать просто, без особых допиливаний и сложностью O(n)


Erick
[10:56 PM] 
без допиливаний конечно не получится. но допиливания простые. поэтому сделать просто. хотя я поспешил немного. вроде идея прилетела, но хорошо подумав, оказалось нужно еще подумать  хорошо.


Benkoff [11:46 PM] 
на самом деле есть очень простое решение, без допиливаний и со сложностью O(n) - просто внимательно прочтите документацию по классам стрима

[11:46] 
есть еще три дня на решение :slightly_smiling_face:


----- Tuesday, October 31st -----
Denis1989 [4:34 AM] 
@Benkoff Ты в один стрим сделал ?

danissimo [6:44 AM] 
Я вчера написал:
> Таким образом, операция flatMap позволяет один элемент исходного стрима, стримающего элементы типа T или родителя T, преобразовать в стрим с нулём, одним или многими элементами типа R или наследника R.
Так вот я ошибся: не flatMap преобразовывает один элемент исходного стрима в другой стрим, а mapper — аргумент операции flatMap. flatMap же конкатенирует стримы, созданные mapper'ом.


danissimo [6:58 AM] 
Оч интересно будет узнать :slightly_smiling_face:
Benkoff
на самом деле есть очень простое решение, без допиливаний и со сложностью O(n) - просто внимательно прочтите документацию по классам стрима
Posted in #hw0Oct 30th at 11:46 PM


timurorbit [7:24 AM] 
Объясните ,
что такое бонусы?
Grigory Kislin
Коллеги, поправки к моему "решения O(N) с одним return +5% бонусов"
один retrun - неверно выразился. он обычно один:) правильно - один проход по List<UserMeal> mealList
Posted in #hw0Oct 30th at 11:04 AM


vch [7:26 AM] 
@timurorbit скидки на другие курсы (например, masterjava)

Иван [9:00 AM] 
чёто дичь ребята какаято с этими стримами

[9:01] 
чисто логически нужно сделать два прохода на калории и на фильтрацию и это не обойти не меняя код UserMealWithExceed


[9:03] 
если ему сделать сеттер то можно в 1 проход и выходному списку проставить превышение калорий

[9:04] 
тут какието флэтмапы пишут я не понимаю к чему совсем


astronarh 
[9:34 AM] 
Если б всегда можно было изменить ТЗ, так чтобы было удобно, жизнь программиста была вообще малиной...


Иван [9:34 AM] 
если б


[9:35] 
ну так то там написано что можно но я не стал ибо тогда класс перестаёт быть immutable


[9:38] 
решил проплатить проверку дз мб эти хитрые вопросы будут проясняться

Valery [9:51 AM] 
>если ему сделать сеттер то можно в 1 проход и выходному списку проставить превышение калорий


[9:51] 
чтобы проставить превышение калорий всё равно надо второй проход делать.



Lezenford [10:19 AM] 
можно сохранить и иммутабл и в 1 проход. посмотрим прав ли я был.. через пару дней)


[10:20] 
но вот в стрим я этот алгоритм так и не осилил..

Yuri [10:21 AM] 
Без двух циклов не обойтись, вопрос лишь в том будут ли они вложенные или последовательные
Alexey Plekhanov
можно сохранить и иммутабл и в 1 проход. посмотрим прав ли я был.. через пару дней)
Posted in #hw0Oct 31st at 10:19 AM


Lezenford [10:32 AM] 
ну я обошелся)


[10:32] 
один проходом на все дейтсвия


Yuri [10:35 AM] 
Надеюсь в четверг увидеть
Alexey Plekhanov
один проходом на все дейтсвия
Posted in #hw0Oct 31st at 10:32 AM


tema.emelyan [10:38 AM] 
интересно как происходить процесс будет. в четверг если все начнут шарить код как обойти в один проход, то на след. стажировке большинство заберёт бонус

[10:39] 
ну, вернее не большинство заберёт, а некоторые смогут сжульничать


Lezenford [10:44 AM] 
мы не первая стажировка. видимо при повторном прохождении такого бонуса не предоставляют)

Иван [10:45 AM] 
если класс будет изменяемым то второй проход будет идти по уже сильно урезанному списку а это заметная экономия

tema.emelyan [10:45 AM] 
бонусы в принципе только сейчас ввели

vch [10:45 AM] 
@tema.emelyan Даже в 10 были бонусы. Не за этот алгоритм, а за другие вещи. (edited)

Lezenford [10:46 AM] 
>если класс будет изменяемым то второй проход будет идти по уже сильно урезанному списку а это заметная экономия


но это все равно сложность выше O(N)


tema.emelyan [10:46 AM] 
@vch разве? в конце ввели?

[10:47] 
я не помню, 10ая моя первая была

[10:47] 
в конце слился, 11ую полностью пропустил

vch [10:47 AM] 
@tema.emelyan за улучшения проекта сразу говорилось. Ну ты видимо не предлагал улучшения, мимо тебя всё и прошло...

tema.emelyan [10:48 AM] 
у меня точно кусок кода Григорий взял, но бонусов не дал =(


[10:48] 
XD


Иван [10:48 AM] 
O(2n) == O(n)


Lezenford [10:50 AM] 
будет выше

Иван [10:50 AM] 
что будет выше?

Lezenford [10:50 AM] 
2n это когда на 1 добавление всегда 2 операнда, грубо говорят

Иван [10:51 AM] 
а это не важно

[10:51] 
2n или 3n

[10:51] 
всё это == 1n

[10:52] 
таковы правила нотации О


Lezenford [10:52 AM] 
с ростом длинны списка у тебя будет расти длинна перебора больше чем N

[10:52] 
потому что тебе помимо 1 прохода по основному придется ходить неопределнное количество раз повтороно по второму списку


Иван [10:52 AM] 
с ростом длины списка у меня количество обходов не будет расти же

[10:53] 
зачем мне неопределённое количество раз ходить?

Lezenford [10:53 AM] 
грубо говоря с ростом первого списка растет второй, который приходится тоже проходить полностью


Иван [10:53 AM] 
да


[10:53] 
1 раз поиск калорий за день

[10:54] 
1 раз фильтр по времени

[10:54] 
всё

[10:54] 
два полных раза


[10:54] 
ни каких неопределённых количеств нету

Lezenford [10:54 AM] 
ну может я чего то не понимаю)

[10:55] 
но бонус все равно давали за 1 проход по листу и O(N). может я ошибаюсь и неверно понимаю нотацию)


Иван [10:56 AM] 
ты можеш пройтись 1 раз полный и сделать за этот проход 2 операции калорий за 1день  и фильтра


[10:56] 
потом всё равно нужно неполный проход делать и через сеттер менять объекты


[10:57] 
как извернуться и обойти это я хз

[10:57] 
если это можно сделать через стрим то

[10:57] 
стрим внутри сделает всёравно так же и сложность у него будет та же


[10:58] 
это математическое ограничение

Lezenford [10:59 AM] 
не, я делал без стрима в 1 проход. но с мапой. но сложность у мапы O(1) и у меня фиксированное количество операций на каждый объект входящего листа


[10:59] 
потому должно быть O(N)


Yuri [11:00 AM] 
Ключевое слово должно )))
Alexey Plekhanov
потому должно быть O(N)
Posted in #hw0Oct 31st at 10:59 AM

Иван [11:01 AM] 
и вот ты тут должен понимать что тебе нужно всё равно обойти все элементы мапы подсчитав каждому дню сумму калорий и сделать им фильтр после 1 прохода


[11:01] 
ты то же количество работы проделаешь в любом случае

[11:03] 
когда я приступал к заданию у меня только один вопрос был


[11:03] 
где тут O(n^2)?

Lezenford [11:04 AM] 
O(N*N) это 2 цикла вложенные 1 в 1 (edited)

[11:04] 
это будет чистейший O(N*N) (edited)

tema.emelyan [11:04 AM] 
@Иван вот я тоже думаю, зачем тогда Григорий голову всем морочит одним проходом?


[11:05] 
ВЕДЬ НЕВОЗМОЖНО!

Иван [11:05 AM] 
O(2n) != O(n^2)

vch [11:05 AM] 
@tema.emelyan Но народ ведь говорит, что сделал


Иван [11:05 AM] 
в задании сказано именно про квадратичное возрастание


Lezenford [11:06 AM] 
2 влоежнных цикла это квадратичное возрастание

[11:06] 
и самый просто вариант решения


Иван [11:06 AM] 
я не вижу где там нужно циклы вкладывать

Lezenford [11:06 AM] 
сначала проходим по листу и формируем каллории за день, второй раз проходит по листу и на основе каллорий создаем выходной лист


[11:06] 
это чистейшее N*N


Иван [11:07 AM] 
это 2n


[11:07] 
n*n это каждый элемент листа сравниваем с каждым элементом листа

Lezenford [11:07 AM] 
это не 2 N

[11:07] 
путаешь вычисления


[11:07] 
смотри.

tema.emelyan [11:07 AM] 
@vch ну это сарказм :smiley:

Lezenford [11:08 AM] 
а тьфу, тоже запутался. сейчас набросаю тебе вложенный цикл N*N


[11:08] 
2 прохода просто так это да, 2N

Иван [11:08 AM] 
N это 1 проход по списку


vch [11:09 AM] 
@tema.emelyan не факт... Григорий ведь пока не подтвердил, что принимает их решения

Иван [11:09 AM] 
тоесть N итераций


[11:09] 
при этом


[11:10] 
если у вас будет вложенный цикл но в одном из них итераций не будет столько же сколько в другом то это не n^2

[11:10] 
например приходит массив в 10 элементов а вы делаете цикл 10 и внутри ещё цикл на 3

Lezenford [11:10 AM] 
for (int i = 0; i < list.size() i ++)
{ for (int j = 0; j < list.size(); j++) {
*для каждой входящей еды мы проходим по всему списку (вложенный цикл) для подсчета каллорий исоздаем на его основе результативный объект в выходной лист. и так для каждого объекта - не сохраняем результат нажора за день где то, а считаем ля каждого объектаЪЪ


[11:10] 
как то так. расписывать просто алгоритм прохода смысла не вижу


Иван [11:11 AM] 
ужос


[11:11] 
ад

Lezenford [11:12 AM] 
это самый просто вариант, на уровне 1 месяца обучения циклам


[11:12] 
не требует лишних объектов и логики - пришел объект, посчитали по нему результат, записали его

Иван [11:12 AM] 
это сломало мне моск серьёзно


Lezenford [11:13 AM] 
он дико неоптимален, но крайне прост)))


LORREON [11:13 AM] 
Параметр exceed в UserMealWithExceed должен быть false у всех блюд текущей сутки, если превышено калории или только в тех блюд какие превысили калории?


Иван [11:14 AM] 
если привысил то true


vsimonov [11:14 AM] 
Есть у кого толковый туториал по лямдам на русском?


itAvgur [11:14 AM] 
Ну и решения в стриме в одну строку тоже сделать можно. Только N^2


Иван [11:14 AM] 
там вссылках вроде есть норм туториал

vsimonov [11:15 AM] 
в уроке?
Иван
там вссылках вроде есть норм туториал
Posted in #hw0Oct 31st at 11:14 AM


LORREON [11:17 AM] 
странно в демке все красные

Иван [11:17 AM] 
в задании HW0 https://github.com/JavaOPs/topjava#optional-java-8-stream-api
GitHub
JavaOPs/topjava
topjava - Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery
 


[11:18] 
-  поле UserMealWithExceed.exceed должно показывать,
                                    превышает ли сумма калорий за весь день параметра метода caloriesPerDay

[11:19] 
тоесть да true если превышает

[11:20] 
я просто переопределил toString и вывел в main


chimax [11:20 AM] 
да
и
да


LORREON [11:25 AM] 
А почему в getFilteredWithExceeded -> LocalTime,  где  Date?

Иван [11:25 AM] 
это локал дата и локал тайм

[11:25] 
просто показания твоих часов

tema.emelyan [11:26 AM] 
Фильтровать только по времени


Иван [11:26 AM] 
тебе не нужно знать абсолютное время


tema.emelyan [11:26 AM] 
Не по дате

vsimonov [11:27 AM] 
может ещё что-то есть?
Иван
в задании HW0 https://github.com/JavaOPs/topjava#optional-java-8-stream-api
Posted in #hw0Oct 31st at 11:17 AM


tema.emelyan [11:27 AM] 
Если пользователь захотел все завтраки увидеть например

LORREON [11:27 AM] 
странно )

Иван [11:27 AM] 
как вы цитируете :slightly_smiling_face:


Lezenford [11:27 AM] 
кнопка >


[11:27] 
потмо сообщение

[11:27] 
отобразится цитатой


[11:27] 
>как то так


Иван [11:28 AM] 
такс
Alexey Plekhanov
кнопка >
Posted in #hw0Oct 31st at 11:27 AM


[11:28] 
ужс название кнопки "поделиться сообщением"

[11:29] 
мутный инторфейс у чатика


Lezenford [11:37 AM] 
ну вообще я имел ввиду кнопку на клавиатуре)))


[11:37] 
но шаре мессадж тоже можно)

LORREON [11:44 AM] 
Как в strem API ввести переменную чтоб подсчитать калории за сутки, насколько я знаю в лямбда не подхватывает не финальные переменные7


russell [11:45 AM] 
переменную ввести нельзя, используй коллектор (edited)


[11:47] 
например grouppingBy и summingInt



LORREON [11:47 AM] 
СПС

chimax [11:50 AM] 
используй toMap с тремя аргументами и не придется заводить переменную


Иван [11:52 AM] 
в часовом ролике про стримы зал хором проорал что пользует одноэлементный массив чтобы обойти ограничение лямды на финал переменные :slightly_smiling_face:


LORREON [11:52 AM] 
а если создать стат. метод которому передать текущию дату, список і лимит калорий и он будет метать true/false и в зависимости от этого менять exceed


chimax [11:53 AM] 
https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-


Иван [11:53 AM] 
да просто хэшмап создай и забрасывай в него с лямды

[11:54] 
я не морочился с финалами всё робило


Shalukhau Dzmitry [12:50 PM] 
Я так понимаю, что из любви к искусству вы пытаетесь решить одним циклом ? А зачем? Если решение O(N) = O (2 * N), но при этом O( 2 * N) гораздо красивее любого возможного O(N)?


[12:51] 
По-моему гораздо полезнее походить по доп. ссылкам да поучиться там :slightly_smiling_face:



Lezenford [12:52 PM] 
был конкурс от Григория - кто решит в 1 проход со сложностью O(N) того ждет бонус)


Shalukhau Dzmitry [12:55 PM] 
Понял :slightly_smiling_face: Просто каждый раз захожу в надежде что-нибудь важное почитать - а нахожу только информацию о том, что O(N) невозможна (я тоже пытался 5% скидки заработать :slightly_smiling_face:


Иван [12:56 PM] 
:slightly_smiling_face: честный O(1*n) не возможен математику не обманешь :slightly_smiling_face:

[12:58] 
насколько я помню нотация O это "не хуже чем"


[12:58] 
а фильтр по времени может вернуь тоже количество элементов как в исходном списке

tema.emelyan [1:03 PM] 
входной урок просто растянутый, дальше темп бодрый будет. и таких отстранённых вещей вроде бы не будет уже. но как заставить вещи лучше работать можно думать всё равно (если время будет) (edited)


Иван [1:05 PM] 
перформанс это дело последнее


[1:06] 
даже в полезных ссылках об этом есть


tema.emelyan [1:06 PM] 
так никто и не спорит


Иван [1:07 PM] 
ну да меня както удивляет зачем производительность на вводном задании сделали


tema.emelyan [1:07 PM] 
ну это как олимпиадная задачка наверное больше


vch [1:08 PM] 
@Иван это ты ещё вводное на masterjava не делал. Там миллисекунды считают.


Иван [1:08 PM] 
ну этож мастер


tema.emelyan [1:08 PM] 
там этот один проход даже не производительнее получается. оба О(н). просто ради принципа


Иван [1:09 PM] 
мастера уже над мелочами думать должны ибо над крупным всё подуманно


[1:10] 
меня больше заботит архитектура и дизайн чем производительность и алгоритмы

tema.emelyan [1:10 PM] 
ну как у нас архитектура пойдёт вот и разгуляешься :smiley:

vch [1:13 PM] 
Ещё HW2 будет интересное. Моё любимое. 
Не все могут сделать корректное решение и, что самое опасное - любые тесты их решения проходят.


Иван [1:15 PM] 
как правильно разбивать логику по слоям мне зайдёт :slightly_smiling_face:

[1:16] 
когдато видел большую статью про архитектуру на хабре с круглым рисунком но потерял ссылку


Shalukhau Dzmitry [1:22 PM] 
У меня решение O(N * M), где M - количество дней - это максимум, что я смог выжать (это при наихудшем случае).


[1:22] 
Обычное решение O(2 * N)

Lezenford [1:23 PM] 
ну так O(2N) == O(N)


Shalukhau Dzmitry [1:23 PM] 
Второй вариант с 1 циклом.


Lezenford [1:24 PM] 
и O(N*M) больше O(2N) если брать период больше 2)


[1:24] 
что логично)

Shalukhau Dzmitry [1:24 PM] 
Конечно больше при условии большого M


[1:25] 
Счас улучшу возможно...


Иван [1:25 PM] 
это не дней а отфильтрованных элементов:)


Lezenford [1:26 PM] 
я к тому, что обычное решение исхода из сложности выходит лучше)


Shalukhau Dzmitry [1:26 PM] 
Я о том же :slightly_smiling_face:


[1:27] 
И не совсем корректно сложность указал скорее O(M+N) - тут 2 цикла рядом

Иван [1:27 PM] 
оно просто более понятное но при этом многословное

Shalukhau Dzmitry [1:28 PM] 
Т.е. в данном случае сложность меньше чем O(2*N)

[1:28] 
Но это максимум (edited)


Иван [1:29 PM] 
если есть случаи когда  M=N то это 2N даже со случаем когда M<N


Shalukhau Dzmitry [1:32 PM] 
Вроде как 2 не учитывается при оценке... Т.е. O(2*N) = O(N)

Иван [1:32 PM] 
да


[1:32] 
это мы тут уже страдаем :slightly_smiling_face:


Shalukhau Dzmitry [1:33 PM] 
Ладно. Я тоже немного пострадал - возможно мое решение будет весьма оригинально :slightly_smiling_face:


Shalukhau Dzmitry [1:38 PM] 
Все, зависимость на M убрал :slightly_smiling_face:


shaakem [7:22 PM] 
Ура. Сделано в один проход. O(N)


Valery [7:38 PM] 
для 5% бонуса надо решить так чтобы первая строчка в методе начиналась со слова return? или наличие кода перед return допускается?


Dmitry Neustupov [8:41 PM] 
@Valery да без разницы, главное чтобы был один стрим, без вложенных стримов.


Viktor [10:41 PM] 
ну и конечно же главное, чтобы результат был верный :smiley:




----- Wednesday, November 1st -----
Rediska244 [12:06 PM] 
всем привет

[12:07] 
решил без циклов и стримов, за один проход... Григорий принял...


Nik [12:11 PM] 
а как без циклов и стримов можно осуществить проход ?

TheTOXIN [12:13 PM] 
@Rediska244 Ты душу JVM продал?

Rediska244 [12:13 PM] 
да неееее


Vangelis [12:15 PM] 
Даже интересно стало) Поделитесь вкратце?


Rediska244 [12:16 PM] 
4 строчки,

[12:16] 
по старинке -  через рекурсию :wink:

Vangelis [12:16 PM] 
Ааа, понятно, спасибо)


Nik [12:17 PM] 
рекурсия дорогая, если не 6 строчек как в примере а пару сотен тысяц :slightly_smiling_face:


Rediska244 [12:17 PM] 
я не говорил что решение оптимальное :slightly_smiling_face:


Дима Жуков [12:18 PM] 
Круто


Nik [12:19 PM] 
мне очень интересно как за один проход циклом или одним стримом решить, будет такое решение выложено?


Rediska244 [12:19 PM] 
думаю циклом невозможно

Benkoff [12:20 PM] 
Можно на отсортированных данных, но это уже не совсем один цикл


[12:21] 
Хотя и сложность близка к о(n)


[12:22] 
Любопытно будет посмотреть на рекурсию в один проход

CRCx86 [2:04 PM] 
друзья, а как проверить своё решение на хироку?

Lezenford [2:06 PM] 
рано для хероку


[2:06] 
оно там не запустится - у нас еще не веб-приложение

[2:07] 
а обычный jar он не запустит


Dmitry Neustupov [2:10 PM] 
Рекурсия - это ад и Израиль.

Grub [2:12 PM] 
интересные у вас ассоциации


Shalukhau Dzmitry [2:22 PM] 
@Rediska244 Поздравляю


Rediska244 [2:29 PM] 
спс

astronarh [2:31 PM] 
Не, почему, вполне можно перевести и на хироку, немного, совсем чуть чуть, самую малость допилить и перевести :wink:


Lezenford [2:36 PM] 
чуть чуть)) развернуть спринг и добавить аннотацию для запуска бина :wink:

Shalukhau Dzmitry [2:42 PM] 
@Lezenford Зачем спринг, в анте соответствующий скрипт билда в WAR добавить :slightly_smiling_face:


[2:42] 
Или в Maven - и в добрый путь :slightly_smiling_face:


[2:42] 
В мавен - вроде как указать тип Package нужно


Lezenford [2:43 PM] 
кхм, а толку? main от этого же не запустится


Shalukhau Dzmitry [2:44 PM] 
@Lezenford А зачем ты у меня спрашиваешь? @astronarh вот 1 шаг до деплоймента остался - я просто идеи подкидываю. А зачем и какую в итоге реализацию выберет - это не ко мне :slightly_smiling_face:

Lezenford [2:47 PM] 
ладно ладно)))


CRCx86 [2:48 PM] 
подскажите пожалуйста такую вещь: я сделал сортировку пользователей от даты до даты с помощью stream, но никак не пойму как сделать отбор по превышению калорий

[2:48] 
что посмотреть для этого?


[2:50] 
сложность в том, что мне по сути нужно из List<UserMeal> сделать List<userMealWithExceed>

Shalukhau Dzmitry [2:50 PM] 
@CRCx86 Сортировка не обязательна. Тебе нужно просуммировать данные по каждому из дней. После этого ты фильтруешь список по времени и ставишь exceed там где нужно (сравниваешь сумму за день с ограничивающим параметром) (edited)

CRCx86 [2:58 PM] 
не понимаю, на вход у функции данные по времени

[2:58] 
а сравнивать результат за день?


Shalukhau Dzmitry [2:59 PM] 
Вся проблема в том, что тебе нужно exceed выставить. А выставить его можно только посчитав сумму за этот день.

CRCx86 [3:00 PM] 
т.е. в итоговый UserMealWithExceed попадает утреннее время или просто дата с пустым временем?

Shalukhau Dzmitry [3:01 PM] 
Попадет только утреннее время (то, которое передано параметром), но с exceed = exceed дня

CRCx86 [3:02 PM] 
ок, спасибо

Dan [7:21 PM] 
Оказалось ничего сложного во втором стриме нет. Надо было лишь знать про оператор .map


chimax [8:17 PM] 
все это цветочки)

chimax [8:53 PM] 
Все затаились и ждут HW1)))

Tanya [8:54 PM] 
зачем ждать, ссылок с полезной инфо достаточно, чтобы не скучать


vch [8:55 PM] 
@chimax а может ждут раскрытия тайны решения в 1 стрим


chimax [8:56 PM] 
ничего, немного осталось)


darkPlatsWalker [9:19 PM] 
Сделал с одним только return-ом в функции getFilteredWithExceeded. Но в этой длинной строке stream получаю дважды, что эквивалентно, как я думаю двум последовательным циклам. Еще в UserMealsUtil добавлены статические функция и Map<LocalDate, Integer>.

darkPlatsWalker [9:30 PM] 
Кто помнит, призовое решение должно было быть O(N) или 2*O(N)?

vch [9:31 PM] 
@darkPlatsWalker Главное помнить, что 2*O(N) - такого понятия официально нет. Это уж мы тут упрощенно его употребляем...
Поэтому O(N) и 2*O(N) имеют одинаковую сложность алгоритма.



Dmitry Neustupov [9:36 PM] 
@darkPlatsWalker у нас не функции ) у нас методы )


chimax [9:37 PM] 
если программирование функциональное, то значит у нас функции)) (edited)



darkPlatsWalker [9:38 PM] 
@Dmitry Neustupov Зачитался стримов))


darkPlatsWalker [9:47 PM] 
А здесь можно ссылки оставлять на решение?


vch [9:48 PM] 
здесь, я думаю, только завтра...


Yury [10:54 PM] 
Вообще-то они там отсортированы=)
AleksandrZinov
подскажите пожалуйста такую вещь: я сделал сортировку пользователей от даты до даты с помощью stream, но никак не пойму как сделать отбор по превышению калорий
Posted in #hw0Nov 1st at 2:48 PM


[10:57] 
Да, на хабре есть много статей по сложности алгоритмов. Почитайте 2*N, 3*N и т.д. относятся к сложности  O(N)


chimax [10:57 PM] 
Лучше почитайте "Грокаем алгоритмы" - об алгоритмах для детей) (edited)

[10:58] 
люблю эту книгу

[10:59] 
23:59 - ждем писем счастья)

darkPlatsWalker [11:51 PM] 
Уже почти 4 часа утра - а писем нет.


chimax [11:52 PM] 
у нас тут немного иной часовой пояс)

[11:52] 
посмотри, когда пришло первое письмо


darkPlatsWalker [11:55 PM] 
1.45 по МСК


[11:55] 
Значит еще рано


----- Thursday, November 2nd -----
Benkoff [3:37 AM] 
те же стримы, но в одну строку


Benkoff [3:51 AM] 
return mealList.stream()
   .collect(Collectors.collectingAndThen(
       Collectors.groupingBy(UserMeal::getDate, Collectors.summingInt(UserMeal::getCalories)),
           map -> { return mealList.stream().filter(x -> TimeUtil.isBetween(LocalTime.from(x.getDateTime()), startTime, endTime))
               .map(x -> {return new UserMealWithExceed(x.getDateTime(), x.getDescription(), x.getCalories(),
                   new Boolean(map.get(x.getDate()) > caloriesPerDay)); })
   .collect(Collectors.toList());})); (edited)


Иван [3:54 AM] 
только всёравно два стрима


[3:54] 
у меня тоже два стрима но не друг в друге и выглядит понятнее


[3:54] 
да и короче

[3:55] 
мне вот интересно существует ли решение где return meal.stream() один раз

Benkoff [3:55 AM] 
показывай, уже можно :slightly_smiling_face:


[3:55] 
короче и понятнее

Иван [3:56 AM] 
почему это можно


Tanya [3:56 AM] 
#hw1


Иван [3:56 AM] 
public static List<UserMealWithExceed> getFilteredWithExceeded(List<UserMeal> mealList, LocalTime startTime, LocalTime endTime, int caloriesPerDay) {
       Map<LocalDate, Integer> caloriesPerDateMap = mealList.stream()
               .collect(Collectors.toMap(p -> p.getDateTime().toLocalDate(), UserMeal::getCalories, Integer::sum));

       return mealList.stream().
               filter(meal -> {
                   LocalTime mealTime = meal.getDateTime().toLocalTime();
                   return TimeUtil.isBetween(mealTime, startTime, endTime);
               }).
               map(meal -> new UserMealWithExceed(meal.getDateTime(), meal.getDescription(), meal.getCalories(),
                       caloriesPerDateMap.get(meal.getDateTime().toLocalDate()) > caloriesPerDay)).
               collect(Collectors.toList());
   }



Tanya [4:03 AM] 
вставляйте код как code or text snippet



Benkoff [4:14 AM] 
@Иван по форме требовалось вроде как обойтись одним return в одну строку, а у тебя - технически две (как и мое первое решение, в котором позже появилось Collectors.collectingAndThen). интересно, есть другие варианты соединить стримы?


Иван [4:21 AM] 
ну ок


[4:22] 
только там внутри происходит всё тоже самое и будет 2n :slightly_smiling_face:


darkPlatsWalker [6:15 AM] 
added this Plain Text snippet
public static HashMap<LocalDate,Integer> map = new HashMap<>();
  public static List<UserMealWithExceed> getFilteredWithExceeded(List<UserMeal> mealList, LocalTime startTime, LocalTime endTime, int caloriesPerDay) {
     return mealList.stream().
         peek(x -> map.merge(x.getDate(), x.getCalories(), (a, b) -> (a + b))).
         filter(x -> TimeUtil.isBetween(x.getDateTime().toLocalTime(), startTime, endTime)).
         collect(Collectors.toList()).
         stream().
         map(x -> new UserMealWithExceed(x.getDateTime(), x.getDescription(), x.getCalories(), caloriesPerDay < map.get(x.getDate()))).
         collect(Collectors.toList());
  }


vch [6:18 AM] 
В рекурсивном решении ошибка ( 1_3_HW0_Optional2.mp4 время 4:12)
exceed устанавливается в true, когда калории не превышены. Должно же быть наоборот.
На алгоритм это, конечно, не влияет, но странно, что Григорий не заметил.


vladimir.glinskikh
[7:36 AM] 
@grigory.kislin Вот, действительно, постеснялся показать первое домашнее задание и как оказалось зря. :grinning::upside_down_face: (edited)


Lezenford [8:30 AM] 
Я чуть позже своё выложу) там обертка под булиан, ее можно изменять не меняя сам объект)


[8:31] 
Таким образом при превышении калорий меняется поле у всех записей дня т.к. Оно общее для всех


vch [8:31 AM] 
@Lezenford вроде в видео есть такое решение. Или у тебя отличается?


Lezenford [8:31 AM] 
Ещё не смотрел


[8:32] 
Может и есть)

[8:32] 
Я вложенный класс сделал


[8:33] 
Ну и 5% я свои получил в итоге)


vch [8:35 AM] 
@Lezenford только у тебя теперь патчи Григория не встанут. Предвижу предстоящую акробатику с Git...


tema.emelyan [8:37 AM] 
это же всё в дз ветке происходит


vch [8:37 AM] 
@tema.emelyan не у всех... У некоторых в master


Lezenford [8:44 AM] 
Посмотрим)


Shalukhau Dzmitry [8:58 AM] 
Некоторым рекомендую сделать ветку от мастера и ручками все коммиты (не так их много) ревертнуть, как вариант.


Lezenford [9:02 AM] 
added this Plain Text snippet
public class UserMealWithExceed {
  private final LocalDateTime dateTime;
  private final String description;
  private final int calories;
  private final Exceed exceed;
  public UserMealWithExceed(LocalDateTime dateTime, String description, int calories, boolean exceed) {
    this.dateTime = dateTime;
    this.description = description;
    this.calories = calories;
    this.exceed = new UserMealWithExceed.Exceed(exceed);
  }
  public UserMealWithExceed(LocalDateTime dateTime, String description, int calories, Exceed exceed) {
    this.dateTime = dateTime;
    this.description = description;
    this.calories = calories;
    this.exceed = exceed;
  }
  public boolean getExceed() {
    return exceed.isExceed();
  }
  public static class Exceed {
    private boolean exceed;
    public Exceed(boolean exceed) {
      this.exceed = exceed;
    }
    public boolean isExceed() {
      return exceed;
    }
    public void setExceed(boolean exceed) {
      this.exceed = exceed;
    }
  }
}
И метод:
public static List<UserMealWithExceed> getFilteredWithExceeded(List<UserMeal> mealList, LocalTime startTime, LocalTime endTime, int caloriesPerDay) {
    List<UserMealWithExceed> result = new ArrayList<>();
    if (mealList != null && startTime != null && endTime != null) {
      Map<String, Integer> map = new HashMap<>();
      Map<String, UserMealWithExceed.Exceed> mapExeed = new HashMap<>();
      for (UserMeal s : mealList) {
        String time = s.getDateTime().format(DateTimeFormatter.ISO_LOCAL_DATE);
        if (!mapExeed.containsKey(time))
          mapExeed.put(time, new UserMealWithExceed.Exceed(false));
        if (!map.containsKey(time))
          map.put(time, s.getCalories());
        else map.merge(time, s.getCalories(), (curentValue, newValue) -> curentValue + newValue);
        if (map.get(time) > caloriesPerDay)
          mapExeed.get(time).setExceed(true);
        if (s.getDateTime().toLocalTime().isAfter(startTime) && s.getDateTime().toLocalTime().isBefore(endTime)) {
          result.add(new UserMealWithExceed(s.getDateTime(), s.getDescription(), s.getCalories(), mapExeed.get(time)));
        }
      }
    }
    return result;
  }


Lezenford [9:02 AM] 
я так расширялся)


[9:03] 
правда сделал кривую реализацию со стрингом, но это руки не дошли грамотно сделать)


tema.emelyan [9:07 AM] 
я тоже тогда поделюсь


[9:07] 
хотя сомневаюсь, что кто-то это читает :smiley:


[9:08] 
я вот такую обёртку сделал
```public class MyBool {
    private boolean aBoolean;

    public boolean isTrue() {
        return aBoolean;
    }

    void set(boolean aBoolean) {
        this.aBoolean = aBoolean;
    }
}```


ну и в классе UserMealWithExceed поле exceed из boolean в MyBool превращается (edited)


[9:09] 
вот такой класс чтобы суммировать калории за день по мере прохода по циклу
```class DayEntry {
    private int calories;
    private MyBool exceeds = new MyBool();
    private int maxPerDay;

    MyBool doesExceed() {
      return exceeds;
    }

    DayEntry(int caloriesPerDay) {
        maxPerDay = caloriesPerDay;
    }

    void addCalories(int calories) {
        this.calories += calories;
        if (!exceeds.isTrue()) {
            if (this.calories > maxPerDay) {
                exceeds.set(true);
            }
        }
    }
}```
(edited)


[9:10] 
и метод в один проход
```public static List<UserMealWithExceed> getFilteredWithExceeded(List<UserMeal> mealList, LocalTime startTime, LocalTime endTime, int caloriesPerDay) {
        List<UserMealWithExceed> mealWithExceedList = new ArrayList<>();
        Map<LocalDate, DayEntry> localDateDayEntryHashMap = new HashMap<>();

        mealList.forEach(userMeal -> {
            LocalDate localDate = userMeal.getDateTime().toLocalDate();

            DayEntry dayEntry = localDateDayEntryHashMap.get(localDate);
            if (dayEntry == null) {
                dayEntry = new DayEntry(caloriesPerDay);
                localDateDayEntryHashMap.put(localDate, dayEntry);
            }

            dayEntry.addCalories(userMeal.getCalories());

            if (TimeUtil.isBetween(userMeal.getDateTime().toLocalTime(), startTime, endTime)) {
                UserMealWithExceed meal = new UserMealWithExceed(
                        userMeal.getDateTime(),
                        userMeal.getDescription(),
                        userMeal.getCalories(),
                        dayEntry.doesExceed()
                );

                mealWithExceedList.add(meal);
            }
        });

        return mealWithExceedList;
    }```
(edited)


vch [9:10 AM] 
@tema.emelyan К AtomicBoolean принципиальная неприязнь?


tema.emelyan [9:10 AM] 
я не додумался до атомик булина


[9:10] 
просто свою обёртку вкрутил


Rostish [9:12 AM] 
www.youtube.com/watch?v=PUTUhrnkjvo&list=PLwwk4BHih4fjstwgKAHPAuUcjpRUiRh5k&index=1


[9:13] 
Кому надоели стримы моожете посмотреть видео данного человека


[9:13] 
у него по 50-70 видео на очень широкие темы


[9:13] 
и java ee и web и основы


[9:13] 
вообщем советую


[9:13] 
по 50-70 на каждую тему

Benkoff [9:51 AM] 
@darkPlatsWalker забавно получилось через peek


Shtramak [10:01 AM] 
added and commented on this Java snippet: Мой вариант
public static List<UserMealWithExceed> getFilteredWithExceeded(List<UserMeal> mealList, LocalTime startTime, LocalTime endTime, int caloriesPerDayLimit) {
	Map<LocalDate, Integer> caloriesByDate = new HashMap<>();
	mealList.forEach((v) -> caloriesByDate.merge(v.getDateTime().toLocalDate(), v.getCalories(), (v1, v2) -> v1 + v2));
  return mealList.stream()
		.filter(meal -> TimeUtil.isBetween(meal.getDateTime().toLocalTime(), startTime, endTime))
		.map(meal -> new UserMealWithExceed(meal, caloriesByDate.get(meal.getDateTime().toLocalDate()) > caloriesPerDayLimit))
		.collect(Collectors.toList());
}
1 Comment Collapse
Я смиксовал foreach и stream. ИМХО с foreach понятнее и лаконичнее чем через groupingBy

chimax [10:02 AM] 
Автор видео Тимур Батыршинов


chimax [10:04 AM] 
added this Java snippet: Мой вариант со стримами
Map<LocalDate, Integer> caloriesByDate = mealList.stream()
                .collect(Collectors.toMap(Meal::getDate, Meal::getCalories, Integer::sum));

        return mealList.stream()
            .filter(meal -> isBetween(meal.getTime(), startTime, endTime))
            .map(meal -> createMealWithExceed(meal, caloriesByDate.get(meal.getDate()) > caloriesPerDay))
            .collect(Collectors.toList());

Grub [10:05 AM] 
давайте в один return


[10:06] 
и O(n)


tema.emelyan [10:06 AM] 
return всегда один


Grub [10:06 AM] 
в одну строку я имею ввиду


vch [10:07 AM] 
@tema.emelyan кстати, не всегда. С вложенными стримами бывает несколько return. При всём том же O(N) (edited)



tema.emelyan [10:07 AM] 
нужно в одну строку стримом или в один проход циклом и чтобы О(н) само собой (edited)

CRCx86 [10:29 AM] 
commented on darkPlatsWalker’s snippet Untitled
Машина!



Benkoff [10:59 AM] 
@Grub O(n) в одну строку без внешних полей и переменных пока только один вариант - через Collectors.collectingAndThen


Shtramak [11:01 AM] 
commented on chimax’s snippet Мой вариант со стримами
Сбор мапы - жир! И Integer::sum - тоже зачетно вместо (a,b) -> a+b. Я еще в свое время думал на кой в Integer такие методы ))) Ну, второй кусок почти идентичен, только ты через метод createMealWithExceed(), а я в UserMealWithExceed добавил конструктор UserMealWithExceed(Meal meal, boolean isExceeded)



Eugeniy [2:46 PM] 
Доброго дня. А решение в одну строку не ухудшает ли читаемость кода? Я не совсем понимаю что мы при этом выигрываем. Или это просто жонглирование кодом?


chimax [2:53 PM] 
да - это просто страсти ума и игры разума) (edited)



Shalukhau Dzmitry [2:53 PM] 
@Eugeniy В данном случае задача ради задачи. Но (всегда оно есть). В реальной разработке порой приходится оптимизировать в ущерб читаемости


vch [2:54 PM] 
@Shalukhau Dzmitry или разбираться в коде, который оставил после себя такой "оптимизатор"...

Shalukhau Dzmitry [2:54 PM] 
@vch если оптимизатор не грамотный, не оставляет комментов и не пишет тестов - то да.


chimax [2:56 PM] 
в идеале, по Мартину - код должен быть самодокументируемым, т.е. имена методов классов, переменных должны, читающему код, говорить о том, что этот код выполняет. Из-за этого придумывать имена - это навык, который надо развивать (edited)


[2:57] 
укорачивать и запутывать код - это манера сишников


[2:57] 
в джава мире стараются писать читаемый код

Shalukhau Dzmitry [2:59 PM] 
@vch, @chimax вот JDK ArrayList:removeAll  к примеру - его по сути можно пятью строчками, красиво, понятно, читаемо, но сложностью n^2 сделать. А потом попробуй раскурить все оптимизации, которые позволяют ему в по-крайней мере в большинстве случаев работать с меньшей сложностью


vch [2:59 PM] 
@chimax А потом я прихожу в такой проект, а там интерфейсы сервисов, которые используются везде, содержат 100 методов с почти одинаковыми названиями и без комментариев. И приходится изучать реализацию каждого метода, чтобы понять, что они делают.
Так что я бы предпочёл иметь комментарии. Хотя бы для интерфейсов.


Shalukhau Dzmitry [2:59 PM] 
@chimax мы живем не в идеальном мире


[3:00] 
@vch крайности опасны.

chimax [3:00 PM] 
комментарии нужны для кода, который не очевиден


[3:00] 
jdk - это отдельная песня и я бы не назвал его эталоном

Shalukhau Dzmitry [3:03 PM] 
@chimax или для алгоритма который с ходу сложно вкурить. А для того, чтобы писать на уровне на котором написан JDK - нам учиться и учиться.Так что немного уважения. Во многих местах можно было сделать лучше (но что интересно - эти места остаются лишь для обратной совместимости). Куда например убрать Date? Или Calendar? Его используют в тысячах продуктов и просто взять и выкинуть - нельзя. Поэтому JDK и содержит некоторые архитектурные ошибки...


chimax [3:04 PM] 
выше я как раз и написал, что комментарии нужны для кода, коорый не очевиден, если алгоритм такой, то для него нужны комментарии

[3:07] 
хм, зашел в класс String и вижу, что там все аргументы у всех методов названы var (byte[] var1, int var2, int var3, int var4), что-то я не помню что бы так раньше было...

Shalukhau Dzmitry [3:07 PM] 
@chimax В Jdk полно комментариев - к коду, но это не значит что он не очевиден :slightly_smiling_face: К тому же гуру рекомендуют писать комменты и к классам, которые планируют расширять (какие методы и для чего стоит расширить)


[3:07] 
@chimax установи jdk-docs

[3:07] 
И настрой в Idea


[3:08] 
Это идея автоматом расшифровывает код

[3:08] 
Если доков нет


vch [3:08 PM] 
@chimax У меня в String нигде нет var1


chimax [3:08 PM] 
JDK - это API для разрабов, на его основе составляется документация для миллионной аудитории, так что нельзя сравнивать код из JDK и какой-то иной (edited)


Shalukhau Dzmitry [3:09 PM] 
Я надеюсь ты хочешь вырасти до уровня создателей jdk - тогда не бойся комментов :slightly_smiling_face:


[3:09] 
К тому же любая твоя внешняя либа будет тоже API для кого-то....

chimax [3:10 PM] 
увлекаться комментами не стоит, максимум, что можно - это перед методом написать пару предложений и все (edited)


Shalukhau Dzmitry [3:11 PM] 
@chimax Увлекаться маниакально вообще ничем не стоит :slightly_smiling_face: От этого либо растраиваются, либо залетают либо толстеют....


tema.emelyan [3:12 PM] 
мне нравится как @chimax своё мнение презентует :smiley: чувствуется синьор


Shalukhau Dzmitry [3:12 PM] 
Ладно, для флуда у нас random есть.


chimax [3:12 PM] 
у меня хотя бы оно есть


Shalukhau Dzmitry [3:13 PM] 
@chimax А ты молодец :slightly_smiling_face:


chimax [3:14 PM] 
HW1 начали уже?


vch [3:16 PM] 
@chimax с HW1 есть интересный шанс сразу применить то, что услышим на Joker. 
JUnit 5, профайлеры, Java 9
Так что может стоит пока подождать с HW1...


Shalukhau Dzmitry [3:17 PM] 
@chimax У меня завал - буду на выходных.


Erick
[3:59 PM] 
https://drive.google.com/drive/u/0/folders/0B9Ye2auQ_NsFfm5hSHEtbmxmN2kxb0NocVRwWl9KanowWXVCVXRZTlhaM09wQUswZkRidTA
в видео 1_1_HW0 (самое первое видео в решения задачи) на на 6,54 есть ссылка на презентацию. можно ее продублировать куда нибудь сюда, или в лс... не нашел в рассылке. сейчас еще раз гляну.. (edited)


Erick [4:07 PM] 
еще раз не нашел.


Erick
[4:36 PM] 
https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html
в стримах есть промежуточные или терминальные методы. правильно ли я понимаю, 
все returns - промежуточные, 
все performs - терминальные? (edited)


Shtramak [4:46 PM] 
скорее наоборот, те что возвращают не Stream - терминальные... (edited)

chimax [5:53 PM] 
те, что возвращают Stream - промежуточные (edited)


darkPlatsWalker [9:02 PM] 
@Benkoff "забавно получилось через peek"   Все операторы нужны, все операторы важны:slightly_smiling_face:


grigory.kislin [10:14 PM] 
@Benkoff
mealList.stream()....mealList.stream(). - это N*N

Benkoff [10:18 PM] 
@grigory.kislin mealList.stream().collect(Collectors.collectingAndThen(Collectors.groupingBy(UserMeal::getDate,Collectors.summingInt(UserMeal::getCalories)), map -> {} //это 1 стрим, а ПОТОМ - второй. итого N+N

[10:18] 
map - результат первого прохода, передается во второй

[10:20] 
Collectors.collectingAndThen - Adapts a Collector to perform an additional finishing transformation

[10:20] 
https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#collectingAndThen-java.util.stream.Collector-java.util.function.Function-

Benkoff [10:23 PM] 
added this Plain Text snippet
return mealList
                .stream()
                .collect(
                        Collectors.collectingAndThen(
                                Collectors.groupingBy(UserMeal::getDate,
                                        Collectors.summingInt(UserMeal::getCalories)),
                                map -> {
                                    return mealList
                                            .stream()
                                            .filter(x ->
                                                    TimeUtil.isBetween(LocalTime.from(x.getDateTime()), startTime, endTime))
                                            .map(x -> {
                                                return new UserMealWithExceed(
                                                        x.getDateTime(),
                                                        x.getDescription(),
                                                        x.getCalories(),
                                                        map.get(x.getDate()) > caloriesPerDay);
                                            })
                                            .collect(Collectors.toList());
                                }
                        ));

grigory.kislin [10:36 PM] 
@Benkoff да, согласен:) решение со stream завернутое в одну строку:+1:

[10:38] 
на будущее немного поменял условие- mealList.stream() чтобы был 1н проход

Benkoff [11:05 PM] 
@grigory.kislin тогда придется перезаписывать видео :slightly_smiling_face: вариант на видео с flatMap тоже в 2 прохода. 
чисто логически получается, что нужны либо 2 прохода с передачей результатов из первого во второй, либо - дополнительные переменные (в классе, методе или кастомном коллекторе). ну или сортировка и последовательно шагать по списку, обсчитывая по каждому дню (никак не меньше N+N) (edited)

Li0n13 [11:29 PM] 
Други, кто понял, почему мы не проверяли входящий список на `null`? (edited)


----- Friday, November 3rd -----
Kirilo [2:31 AM] 
в стримах это уже не надо делать

[2:33] 
@Benkoff а почему N + N ? В карте, ведь, уже меньше элементов осталось. Там мы храним суммы, за определенные даты, а это как минимум в 3 раза меньше, чем N. (edited)

vch [5:15 AM] 
@Li0n13 Да ладно на null, в решении с рекурсией даже если подать просто пустой список  - уже упадёт. Все очень доверяют вызывающему коду...
У меня была другая крайность - проверка всего и вся. Т.е. и List проверялся на null, и datetime, и другие поля, которые могут быть null.
Все по-разному поступают в этом плане.
@Kirilo Почему не надо делать? Проверил:
```        List<String> lst = null;
        lst.stream();```
Получил NullPointerException.

Li0n13 [7:31 AM] 
Где-то выше было сказано про приватные методы, что типа вызывающая сторона заботится о корректности входных данных. Наверное, вопрос к @grigory.kislin . Это стандарт?

LORREON [2:42 PM] 
Apply 1_0_fix.patch применять и для ветки мастер и для ветки HW0?

Viktor [2:43 PM] 
@LORREON master


Few [2:45 PM] 
Только на мастер все патчи


vladimir.glinskikh
[2:50 PM] 
@LORREON Все патчи, которые от Григория, кладутся в ветку master. Заходишь в мастер: git checkout master, затем складываешь по одному патчи и Apply делаешь.  Затем создаешь новую ветку: git branch HW01 и в этой ветке уже выполняешь домашнюю работу и всячески развлекаешься. Ветку master не трогать категорически, в ней только патчи будут. Посмотреть в какой ты находишься ветке: git branch


grigory.kislin [2:58 PM] 
@Benkoff может тогда поможешь условие сфоррмулировать:)? хочу чтобы по листу mealList проходились один раз. 2й раз уже после его процессинга

[3:00] 
@Li0n13 по поводу проверки входящих данный будет тема 4-го занятия. их тоже не везде надо втыкать а в определенных местах. но мысль верная:) (edited)

Kaa [3:03 PM] 
Григорий, так а какой вариант все таки предпочтительней из всех рассмотренных, для реализации метода?

grigory.kislin [3:04 PM] 
я бы делал getFilteredWithExceeded. просто и красиво

[3:05] 
собственно его и будем юзать

Kaa [3:06 PM] 
в смысле рализация в патче 1.1, с мепом и стримами в 2а прохода?


LORREON [3:30 PM] 
@vladimir.glinskikh комитить после каждого патча? или после всех? (edited)

vsergeev [3:31 PM] 
Было бы логично после каждого (edited)

[3:31] 
Коммитов же не жалко)

vladimir.glinskikh
[3:44 PM] 
@LORREON Коммитить каждый нет смысла. То есть пошли по шагам: 1) git checkout master 2) закидываешь патч по порядку, по одному в корень проекта. 3) Идешь: VCS - Apply Patch 4) И так каждый патч 5) Когда патчи все установлены: git add . 6) Коммитим: git commit -m "Add Patch in branch master" 7) Делаем Push  8.) Создаем новую ветку: git branch HW01 9) Проверяем в какой мы ветке: git branch 10)Находимся в ветке HW01, делаем домашку и веселимся! (edited)

vch [3:48 PM] 
@vladimir.glinskikh Иногда патчи неправильно встают, приходится откатываться. 
И есть коммитить каждый патч, то исправлять проблемы проще.
А push можно и 1 на все патчи сделать.

vladimir.glinskikh
[3:50 PM] 
@vch Не ну если нравится такая головомойка, то ради бога, нет препятствий!  :sweat_smile:

LORREON [4:05 PM] 
как переименовать коммит?

chimax [4:06 PM] 
git commit --amend


LORREON [4:07 PM] 
а хеш комита где указывать и другую назву? (edited)


chimax [4:18 PM] 
этой командой ты сможешь переименовать последний незапушенный комит (edited)


grigory.kislin [9:51 PM] 
вообще вам же потом проще разбираться в проекте будет, если комиты не все кучей а раздельно


chimax [10:03 PM] 
@grigory.kislin что бы понять добро - надо узнать зло)


grigory.kislin [10:13 PM] 
еще- обратите особое внимание на комментарии к коммитам. лучше всего- кратко про функционал



----- Tuesday, November 7th -----
Сергей Матвеев [4:22 PM] 
подскажите у нас в итоге должен быть список всех или только той еды которая с превышением?


Oleg Trofimenko [4:23 PM] 
Всех


Lezenford [4:52 PM] 
но в указанный временной промежуток
