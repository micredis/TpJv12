grigory.kislin [2:07 AM] 
joined #hw3.


grigory.kislin [2:07 AM] 
set the channel topic: https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson03.md


grigory.kislin [2:08 AM] 
WELCOME TO: https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson03.md
GitHub
JavaWebinar/topjava
Contribute to topjava development by creating an account on GitHub.
 


[2:09] 
письмо как обычно днем (edited)


dyakoven [2:09 AM] 
joined #hw3 along with 18 others. 


MetalBro [10:23 AM] 
вопрос по реализации фильтрации по датам. Если зададим только время, в этой реализации будет учитываться только время дня без привязки к дням? Зачем просто ввод констант


[10:23] 
на дни


[10:24] 
пересмотрел, вроде все нормально)


grigory.kislin [11:11 AM] 
@MetalBro демо: http://topjava.herokuapp.com (edited)


Glumov Konstantin [2:14 PM] 
после накатывания патча 3_05 возникает ошибка при вызове mealServlet. У всех так или только у меня? Ругается что не может создать бин userServiceImpl


Glumov Konstantin [2:19 PM] 
помог clean, хотя думал что package автоматом должен его вызвать


MetalBro [7:55 PM] 
На почту будет?


grigory.kislin [8:51 PM] 
сорри, письмо счас будет
@Glumov Konstantin package его автоматом не должен вызывать


vch [9:05 PM] 
set the channel purpose: https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson03.md


Rostish [5:02 AM] 
у меня после патча с junit все ломается почему-то


[5:03] 
3.06, пропадают моки репозитория, а из-за этого в рест классе куча ошибок


[5:06] 
3.07


Few
[5:12 AM] 
Папку test создал предварительно?


Dmitry Neustupov [8:07 AM] 
@Rostish те же дела, папку test в src создал, накатил патч с junit и куча ошибок повыскакивало.


Dmitry Neustupov [8:28 AM] 
Видимо Идея глюканула, перезапустил - всё нормализовалось.


Denis1989 [8:41 AM] 
Ну да, реально беда. Идея все по подчеркивала красным (( а работать, работает.


[8:42] 
а вчера все норм было


[8:43] 
Она не может определиться из какой папки java классы грузить


Rostish [9:38 AM] 
я просто из тест копернул  в папку мок те же классы


[9:38] 
все норм сталло


[9:38] 
но у меня не подтягивает следующие классы

[9:38] 
//Assert.assertEquals(users.size(), 1);
       //Assert.assertEquals(users.iterator().next(), ADMIN);


[9:38] 
пришлось пока закомментить


[9:39] 
тьфу


[9:39] 
методы


Valery [9:40 AM] 
вот тут непонимание. классы надо копировать или переносить? патч их переносит.


[9:40] 
классы из папки мок


vch [9:41 AM] 
@Valery Переносить. mock в рабочей части проекта не нужны. Они для тестов.


Valery [9:44 AM] 
до тестирования у меня проект работал. после патча 307 не работает


vch [9:46 AM] 
@Valery Привыкай... Так в половине HW будет.
Не зря же 1 пунктом HW идёт починка проекта.


Rostish [9:59 AM] 
У меня не совпдает половина того, что на экране с тем, что после патчей))


[9:59] 
на экране - в видео


Katherine Buzatu [1:09 PM] 
Какую версию PostgreSQL ставить?


MetalBro [1:33 PM] 
какие привилегии должны быть у создаваемой роли юзера?


RNG [2:01 PM] 
@Katherine Buzatu На прошлой стажировке у меня стояла версия 9.5, проблем вроде бы не было с ней. Перед 3-им уроком обновился до 10.1, пока полет нормальный.



Ivan [4:57 PM] 
В связи с переходом на PostgreSQL из MemoryMealrepository и с учётом п. 3.2. (userId в класс Meal вставлять НЕ надо) осознавая, что в памяти мы хранили Мапу в Мапе! верно ли я создал столбцы в таблице Meals (id, userid, datetime, description, calories)? Или необходимо map<meal> хранить в каком-нибудь BLOB? ("save" реализовал без проблем, возникли вопросы при "get");


Grub [5:00 PM] 
userId будет ключ на таблицу юзеров


Ivan [5:07 PM] 
@Grub совершенно верно. У меня проблема (ступор, не приходит на ум, не знаю) как при при GET запросе через jdbcTemplate за один запрос вытащить meal (в котором нет userId) и userId на проверку.


MetalBro [5:38 PM] 
после патча 3.11 выскакивала ошибка создания бина, после 3.13 вылетает NPE. Так должно быть? До какого патча можно посмотреть работу приложения или оно ломается сразу?


Katherine Buzatu [5:56 PM] 
> выскакивала ошибка создания бина,
Бин сразу сломали. Как к тестам приступили.


MetalBro [6:02 PM] 
на каком патче еще работало, чтобы откатить посмотреть?)


[6:04] 
имею в виду, рабочего приложения с БД не было?


Katherine Buzatu [6:05 PM] 
Я пока на 3.10. Бин сломан.


MetalBro [6:06 PM] 
а на предыдущих проверяла? Я решил проверить только на 3.11


Katherine Buzatu [6:08 PM] 
Не проверяла, но знаю, что не работало. (Нашла причину)


Valery [7:58 PM] 
> До какого патча можно посмотреть работу приложения или оно ломается сразу?
ломается на патче 307


Anton K. [10:31 PM] 
Привет всем, подскажите как в идее настроить референс на текущую БД


[10:31] 
чтобы было автозаполнение и прочие плюшки


[10:31] 
А то у меня желтым подсечивает и пишет что не может найти


[10:32] 
я потыкался в настройках так и не понял где выставить


Katherine Buzatu [10:35 PM] 
Попробуй скриншот вставить, где у тебя желтым светится и что пишет.


Tanya [11:34 PM] 
@MetalBro в дз будет
> 6 Предложить решение, как почнинить SpringMain, InMemory*Test. InMemory*Test



----- Today November 18th, 2017 -----
Anton K. [12:04 AM] 
uploaded this image: image.png
Add Comment



Katherine Buzatu [12:21 AM] 
@Anton K. По видео `3_07_Set_db_in_IDEA` все сработало, как надо?

Anton K. [12:25 AM] 
Я уже не помню))


Anton K. [12:26 AM] 
Все работает просто не подсвечивает
 3 replies Last reply today at 10:33 AM View thread

Katherine Buzatu [12:27 AM] 
Там как раз подробно описывается, как подключить БД к Идее. Если не сделал - надо сделать. Если сделал и все равно не работает - уже другой вопрос.


Alexander _Gubanow [10:45 AM] 
У меня таблицы во вкладке Database в IDEA не отображаются после выполнения скриптов, что надо поднастроить?


Alexander _Gubanow [11:14 AM] 
uploaded this image: 01.jpg
Add Comment



Few [12:20 PM] 
Что-то не понимаю, как при текущей реализации JdbcUserRepositoryImpl роли пользователя будут в базу попадать?


Few 
[12:27 PM] 
@Alexander _Gubanow https://intellij-support.jetbrains.com/hc/en-us/community/posts/206433049-Database-stuck-on-Loading-when-showing-tables
IDEs Support (IntelliJ Platform) | JetBrains
Database stuck on "Loading" when showing tables
I am running into a fairly consistent issue in the Database Tool window where the tables never appear when I expand a db. All that shows is "Loading..." So far, the only way I can get it ... (31 kB)
 


[12:27] 
похоже на твою проблему


Alexander _Gubanow [1:11 PM] 
@Few Спасибо, помогло. Проблема была с кешем IDEA.


Katherine Buzatu [1:41 PM] 
Зачем в JdbcUserRepositoryImpl поле ROW_MAPPER static? У нас же все равно синглтон.


anpotashev [4:08 PM] 
Не пойму зачем метод List<Meal> getBetweenDateTimes в MealService


Katherine Buzatu [4:15 PM] 
Предположу, что это - основной метод, который делает выборку по входным параметрам типа поля модели (LocalDateTime). А другие методы, принимающие на вход параметры других типов, будут вызывать в итоге метод. Вроде как задел на расширяемость. (edited)


anpotashev [4:21 PM] 
Но зачем время в методе возвращающем список Meal, а не MealWithExeeded?


Katherine Buzatu [4:30 PM] 
Потому что это не та фильтрация по дате и времени, что у нас в интерфейсе, а фильтрация только по дате, но в формате DateTime


anpotashev [4:53 PM] 
Все равно не понимаю зачем в сервисе добавлять время, если можно в sql отбросить время и сравнивать только по датам.


Katherine Buzatu [5:25 PM] 
Коллеги, у меня произошел взрыв мозга тут:
> 5.1 Сделать тестовые данные MealTestData, АНАЛОГИЧНЫЕ пропопулированным в populateDB.sql.
Объясните, кому не лень, своими словами.


anpotashev [5:28 PM] 
Т.е., так понима, чтобы данные полностью совпадали с данными в бд, которые загружаются из sql-файла



russell [5:28 PM] 
создать точно такие же объекты чтобы можно было сравнить с данными в базе, expected vs actual
 


Viktor [6:02 PM] 
Вопрос, у меня у одного исчез SpringMain или так и должно быть? rfr-nj yt ecktlbk

[6:02] 
(глупая раскладка) как-то не уследил


russell [6:03 PM] 
@Viktor он не исчез, а в тесты переместился. (edited)


Few [6:07 PM] 
@Katherine Buzatu аналогично,  не понял этот пункт


Viktor [6:17 PM] 
@russell спс это я и не заметил


vsimonov [7:41 PM] 
у всех postgres нормально ставится?

Дима Жуков 
[7:42 PM] 
Я поставил 9.5. без проблем вообще

vsimonov [7:46 PM] 
9.5.10 ?
Жуков Дмитрий
Я поставил 9.5. без проблем вообще
Posted in #hw3Today at 7:42 PM


vsimonov [7:55 PM] 
у меня 9.4 заработала (edited)


Valery [7:58 PM] 
база встала, но проблемы с админкой...

Дима Жуков [8:00 PM] 
@vsimonov да


Viktor [8:11 PM] 
у меня уже стоял @vsimonov пишите, что конкретно не встает (ps тыжпрограммист) :smiley: (edited)


Valery [8:19 PM] 
в базе уже есть юзер с именем user. его надо сбросить?


Viktor [8:29 PM] 
зачем?

russell [8:30 PM] 
Подскажите LocalDateTime чем заменяли в сиквеле? Timestamp?


Viktor [8:30 PM] 
а базе это в таблице users? или в пользователях postgre?


Valery [8:31 PM] 
в пользователях postgre


[8:31] 
я не знаю его пароль. как я могу его использовать в проекте?


[8:32] 
пришлось пересоздать...

Viktor [8:34 PM] 
@Valery пока проект не настоящий, можете создать себе пользователя root root и не задумываться :smiley: у меня и постгресе и mysql такой есть


Dmitry Neustupov [8:38 PM] 
Товарищи, подскажите, в чём может быть проблема? Установил постгрес, создал базу topjava, создал юзера user с паролем password, в идее подключил постгрес, скачал и установил драйвер, но при попытке коннекта к базе пишет - 28000 для роли user вход запрещён. Пароли проверял, менял. Безрезультатно (


vsimonov [8:39 PM] 
@Viktor на винду postgres ставил?
1 reply Today at 8:47 PM View thread

MetalBro [8:39 PM] 
в pgAdmin привилегии надо выставить


[8:39] 
для user

Viktor [8:39 PM] 
@vsimonov да


Dmitry Neustupov [8:43 PM] 
@MetalBro Спасибо! ) Не думал, что нужно ручками возможность логиниться выставлять для юзера )


vsimonov [8:45 PM] 
версия?
Sergeev Viktor
@vsimonov да
Posted in #hw3Today at 8:39 PM


Katherine Buzatu [8:47 PM] 
У меня на винде. Версия 10 без проблем.

Viktor [8:49 PM] 
@vsimonov 9.6

Valery [8:54 PM] 
pgAdmin III говорит, что версия базы не поддерживаемая...

[8:54] 
как посмотреть версию postgre?

vsimonov [8:56 PM] 
расскажи как ставил
Sergeev Viktor
@vsimonov 9.6
Posted in #hw3Today at 8:49 PM

Viktor [8:59 PM] 
@vsimonovты пиши, что не получилось, я устанавливал несколько мес назад

[8:59] 
@Valery скачай админку 4 версии

[9:00] 
@Valery WARNING: pgAdmin 3 is no longer supported. It is recommended that you download pgAdmin 4 instead.

[9:00] 
@Valery https://www.pgadmin.org/download/
pgadmin.org
Download
pgAdmin Website

Valery [9:00 PM] 
4 только веб версию нашел

vch [9:01 PM] 
@Viktor А 4 версия нормально работает?
У нас один человек скачал 4 версию. После 1 дня работы цензурных слов в его лексиконе уже не было.

Viktor [9:02 PM] 
@vch у меня запросы не большие, мне там всего то надо было создать БД topjava, дальше все готовыми скриптами из IDEA

Valery [9:03 PM] 
если только создать БД, то и консоли достаточно.

Viktor [9:10 PM] 
ага

vsimonov [9:13 PM] 
Как ты ставила расскажи
Katherine Buzatu
У меня на винде. Версия 10 без проблем.
From a thread in #hw3Today at 8:47 PM
1 reply Today at 9:15 PM View thread
grigory.kislin [9:31 PM] 
слово АНОЛОГИЧНО в уроке заменил
у меня старенький postgres 9.5, по новым не подскажу
@Katherine Buzatu
> зачем ROW_MAPPER static? У нас же все равно синглтон
(в смысле JdbcUserRepositoryImpl в контесксте sprig как я понял)
я делаю скорее по логике... если например будет 2 контекста спринг- будет это static или нет
но вообще, если найдешь на эту тему ссылки, было бы хорошо.. 
константы то по любому статик делают, а тут могут быть варианты.. (edited)
