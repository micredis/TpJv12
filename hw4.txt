grigory.kislin [1:37 AM] 
joined #hw4.


grigory.kislin [1:37 AM] 
set the channel topic: https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson04.md


grigory.kislin [1:38 AM] 
Занятие 4: https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson04.md
ORM, JPA, Hibernate
GitHub
JavaWebinar/topjava
Contribute to topjava development by creating an account on GitHub.
 
(edited)


YuriyD [1:42 AM] 
joined #hw4 along with 18 others.


itAvgur [6:25 AM] 
Интересно у меня idea пропатчила sql скрипты в патче 1. Прибавила еще одну таблица meals.
В итоге две таблицы, пришлось выкусывать старые.


Few
[6:52 AM] 
ты патчи то на мастер накатывай, а не на HW3


[6:53] 
там не должно быть таблицы meals


itAvgur [7:25 AM] 
А еще я пользуюсь IDEA  и изучаю JAVA ? :grinning:
Ну конечно же master.
Ладно, проехали. Это у меня в мастере кусок кода видно остался. (edited)


Tanya [7:50 AM] 
возможно не закоммитил изменения перед переходом на мастер

Few
[7:53 AM] 
@itAvgur это было бы слишком очевидно, да? :grinning:


itAvgur [8:02 AM] 
Это дело было так: исправил два скрипта sql, а УЖЕ ПОТОМ создал HW03.
Визуально - все пучком. А при возврате в мастер эти изменения там и проявились.
2Few Никаких костылей - только ХАРДКОР!
Офтопик закончил. :no_entry: (edited)


Valery [8:40 AM] 
>В JdbcUserRepositoryImpl.save() и UserServiceImpl.update добавил проверку на несуществующей в базе User.id
А разве в этом месте не вернется ошибка при попытке обновить запись с несуществующим id? - 'WHERE id=:id'


Katherine Buzatu [8:45 AM] 
Не вернется. Просто строка с такими параметрами не будет найдена и ничего не будет изменено.


Антон Кляшторный [10:36 AM] 
*Зарефакторил в InMemoryMealRepositoryImpl.getAll/getBetween: filter() перед sorted() https://howtodoinjava.com/java-8/how-to-use-predicate-in-java-8/
HowToDoInJava
Java 8 Predicate Examples - HowToDoInJava
In java 8, Predicate a functional interface and can therefore be used as the assignment target for a lambda expression or method reference. So, where you think, you can use these true/false returning functions in day to day programming?
Apr 4th, 2014 at 5:37 PM
 


Marina [2:57 PM] 
Ребят, может у кого то такая же проблема - после накатки 4_6_add_jpa.patch, maven в idea подчеркивает зависимости, не могу никак исправить, в задании сказано: "При настройке JPA в IDEA НЕ скачивайте библиотеку javaee.jar (и любую другую). Все зависимости в проект попадают только через Maven". Не могу понять как это сделать.


grigory.kislin [3:03 PM] 
@Marina а maven рефреш (reimport all кнопка) делала?


Marina [3:04 PM] 
да, не помогает
Grigory Kislin
@Marina а maven рефреш (reimport all кнопка) делала?
Posted in #hw4Today at 3:03 PM


grigory.kislin [3:08 PM] 
а без idea- проект компилится?
mvn compile ? (edited)


MetalBro [5:06 PM] 
после 4.3 на Travis не билдится, выдает org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM user_roles; nested exception is org.postgresql.util.PSQLException: ERROR: relation "user_roles" does not exist
 Position: 13


[5:06] 
и т.п.


MetalBro [5:06 PM] 
так должно быть?
1 reply Today at 5:15 PM View thread

philip.goldm [4 hours ago] 
Да

MetalBro [5:19 PM] 
Спасибо!


[5:20] 
в настройках на сайте не видно этого
отключил в настройках (remove pattern) проверку assert в JUnit (проверяем через матчеры) и meta http-equiv="content-type" в JSP
сделал remove pattern на Cross Site Scripting (XSS), будем делать защиту на последнем занятии
Где это вообще


MetalBro [5:25 PM] 
просто поудаляли замечания после проверки?


kadmser [5:32 PM] 
@MetalBro тоже сейчас не могу этого найти на сайте


MetalBro [5:36 PM] 
там получается когда он сделает список замечаний (у меня получилось 18) можно при раскрытии каждого щелкнуть на значке настройки и сказать ignore issue, remove pattern


[5:37] 
в проекте, ссылка куда идет из нового задания, таких замечаний нет, там не обновлено с 3 урока у него


[5:38] 
не очень удобно, когда непонятно что точно должно быть после патчей


kadmser [6:07 PM] 
добавляю проекты из гитхаба на  versioneye.com , а список все равно остается пустой


kadmser 
[7:06 PM] 
А, все ок. Нужно просто было включить ветку


MetalBro [7:08 PM] 
какие у тебя issues?


[7:09] 
есть The method getBetween() has an NPath complexity of 625 ?

Marina [7:36 PM] 
Что я совсем запуталась, откатила на патч 4-5 и теперь не могу снова накатить 4-6, выдает ошибку: Failed to make the following files writable:
/home/marina/IdeaProjects/topjava/src/main/resources/spring/spring-db.xml
/home/marina/IdeaProjects/topjava/src/main/resources/db/postgres.properties
/home/marina/IdeaProjects/topjava/pom.xml
/home/marina/IdeaProjects/topjava/src/main/java/ru/javawebinar/topjava/model/User.java
/home/marina/IdeaProjects/topjava/src/main/java/ru/javawebinar/topjava/model/AbstractNamedEntity.java
/home/marina/IdeaProjects/topjava/src/main/java/ru/javawebinar/topjava/model/Meal.java
/home/marina/IdeaProjects/topjava/src/main/java/ru/javawebinar/topjava/model/AbstractBaseEntity.java
Grigory Kislin
а без idea- проект компилится?
mvn compile ?
Posted in #hw4Today at 3:08 PM


Marina [10:03 PM] 
Вопрос снимается, наладилось.


MetalBro [11:23 PM] 
при коммите патча 4.7 выдает три ошибки, связанные с User в Named Query. Все норм?



----- Today November 24th, 2017 -----
Few [4:04 AM] 
Григорий в видео об этом говорит. Нужно JPA в фасеты добавить и базу указать


MetalBro [3:50 PM] 
Спасибо


grigory.kislin [4:15 PM] 
@MetalBro
> после 4.3 на Travis не билдится,
смотри- мы в первую очередь здесь учимся быть программистами. все остальное вторично...
как думаешь сам- в чем проблема ? должно быть так или нет? исправится это дальше?
1 reply Today at 5:42 PM View thread

[4:17] 
> при коммите патча 4.7 выдает три ошибки
то же самое. умение накатывать патчи - это же еще не программист
посмотри, где валится ... посмотри в код


[4:18] 
> Нужно JPA в фасеты добавить и базу указать
это же только интеграция с IDEA. никак на приложение не влияет


Few [4:22 PM] 
ну MetalBro имел ввиду ошибки анализа кода перед коммитом, насколько я понял


kadmser 
[4:39 PM] 
JPA нужно все таки через модули добавлять?


[4:39] 
а не через фасеты


grigory.kislin [4:47 PM] 
@kadmser как в видео


kadmser [4:48 PM] 
я засомневался что как в видео, когда открыл  "настройке JPA в IDEA"


philip.goldm [5:43 PM] 
@grigory.kislin привет! По поводу 3.2 и 3.3 заданий.
>3: Добавить в тесты MealServiceTest функциональность @Rule:
>3.1: проверку Exception
>3.2: вывод в лог времени выполнения каждого теста
>3.3: вывод сводки в конце класса: имя теста - время выполнения
Эти задания связаны с использованием `@Rule` функционала, то есть необходимо использовать Timeout Rule? Или просто необходимо реализовать время трассировки (время выполнения) ?
