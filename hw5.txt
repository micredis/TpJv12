grigory.kislin [2:09 AM] 
joined #hw5.


grigory.kislin [2:10 AM] 
Готов https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson05.md
Успехов!
GitHub
JavaWebinar/topjava
Contribute to topjava development by creating an account on GitHub.
 


tema.emelyan [2:11 AM] 
joined #hw5 along with 18 others.


Ivanushka [12:00 PM] 
added and commented on this Java snippet
В соответствии с требованиями законодательства доступ к запрашиваемому Интернет-ресурсу 
закрыт.
​
Интернет-ресурс запрещен к распространению судом и/или внесен в один из списков:
​
Федеральный список экстремистских материалов http://www.minjust.ru/nko/fedspisok/
​
Единый реестр доменных имен, указателей страниц сайтов в сети «Интернет» и сетевых адресов,
позволяющих идентифицировать сайты в сети «Интернет», содержащие информацию,
распространение которой в Российской Федерации запрещено http://eais.rkn.gov.ru/
​
Реестр доменных имен, указателей страниц сайтов в сети «Интернет» и сетевых адресов,
позволяющих идентифицировать сайты в сети «Интернет», содержащие информацию,
распространяемую с нарушением исключительных прав http://nap.rkn.gov.ru/
3 Comments Collapse
Проверьте, только у меня так? http://jeeconf.com/archive/jeeconf-2013/materials/spring-data/ -это после шестого видео.



Few 
[12:01 PM] 
Открывается


Ivanushka [12:03 PM] 
@Few Cпасибо.


philip.goldm [1:25 PM] 
@grigory.kislin
>Почему при запросе user.id нам не нужно нужно вытаскивать его из базы?
есть два раза *нужно



philip.goldm [2:44 PM] 
>Раскрасил лог (в Spring Boot по умолчанию он тоже colored)
>Apply 5_3_HW4_optional.patch
кажется необходимо поменять на 5_4_log_colored.patch



Katherine Buzatu [4:10 PM] 
При прогоне тестов в консоли проплывают красивые синенькие логи. Потом они исчезают (*куда?*) и остаются только те, которые, видимо, "result" (но и они не magenta). *Куда уходят остальные логи?*


anpotashev [4:23 PM] 
uploaded this image: А ты где смотришь?
Add Comment



Katherine Buzatu [4:25 PM] 
uploaded this image: Вроде там же...
Add Comment



anpotashev [4:30 PM] 
хм. сменил тему на темную - тоже без проблем.


anpotashev [4:32 PM] 
а попробуй из консоли mvn test

Katherine Buzatu [2 hours ago] 
так все логи. И magenta. А в Run куда они деваются?


anpotashev [4:41 PM] 
uploaded this image: и да, магента:
Add Comment



anpotashev [4:52 PM] 
commented on Ivanushka’s snippet Untitled
видео доступно, а презентация блокирована



grigory.kislin [5:01 PM] 
у меня тоже - презентахи нет.. видео-ок



Few
[5:11 PM] 
через анонимайзер и презентация есть

Katherine Buzatu [2 hours ago] 
И чем думают инициаторы ограничений в сети, которые обходятся в два клика?


Few 
[2 hours ago] 
Это уже пахнет политикой, но тем кому положено думать иной раз не имеют подходящего инструмента :slightly_smiling_face:

Ivanushka [2 hours ago] 
Решил проблему аналогично, спасибо.


Viktor [10:02 PM] 
мне интересно про 5 пункт задания, в частности "HSQLDB (она не умеет работать с Java8 Time API)", не совсем понял. Прогнал тесты на hsqldb. все прошли успешно, т.е. данные в LocalDateTime попали без конвертера, что именно не умеет hsqldb?


anpotashev [10:07 PM] 
конвертацию делает не бд а hibernate, он знает какая база к нему подцеплена и преобразует localdatetime в тот формат, что нужен именно этой субд


RNG [10:10 PM] 
Вот любопытно, hibernate много кто ругает, но при этом он все равно в тренде. Получается никаких серьёзных альтернатив пока нету? (edited)


Viktor [10:11 PM] 
все понял, опять невнимательно прочитал. Говорится именно про jdbc



vch [10:11 PM] 
@Viktor В последней версии hsqldb уже есть поддержка новых типов данных.
Но вроде у вас должна использоваться более старая версия


anpotashev [10:13 PM] 
@RNG альтернатива - реализация jpa на серверах приложений, например.


Viktor [10:15 PM] 
@vch да сейчас перенастроил на jdbc и получил ошибку, иногда туго доходит :smiley:


RNG [10:19 PM] 
@anpotashev Это как? Типа брать чистый jpa и реализовывать самому под свои нужды?


vch [10:20 PM] 
@RNG вот вместо hibernate можно: https://habrahabr.ru/post/247885/
На маленьких проектах - почему бы и нет. (edited)


anpotashev [10:22 PM] 
@RNG если будешь развертывать на сервере приложений поддерживающем javaee 6 или 7 и в приложении у тебя не будет ничего кроме jpa2.0 / 2.1 соответственно, то hibernate там не нужен. JPA - это всего лишь интерфейс.


RNG [10:24 PM] 
@vch Спасибо! Но тут же вопрос, где грань между маленьким проектом и средним к примеру?


vch [10:27 PM] 
@RNG ну вот как станет лень вручную писать sql-запросы и работать без автоматических связей между объектами - значит пора переходить на JPA


RNG [10:36 PM] 
@anpotashev @vch Спасибо за информацию!


RNG [10:42 PM] 
Собсно, к чему я это все спрашивал. Хочу на тестовом задании (которое Григорий дал) заюзать какую-то альтернативу для Hibernate. И судя по всему MyBatis неплох для этой цели.


vch [10:43 PM] 
@RNG на masterjava можно будет с jdbi поиграться (это ещё одна замена hibernate)


grigory.kislin [11:56 PM] 
на тему работы с базой:
MyBatic используют и на больших проектах... все от нужд и тимлида-архитектора зависит
если простой crud- то data-jpa самое удобное
реализаций JPA основных 3 (вторая ссылка сверху у меня в гугл): https://stackoverflow.com/questions/576659/jpa-implementations-which-one-is-the-best-to-use
Toplink / EclipseLink  имеют своих фанатов.. но попурярнее да, hibernate.
вот еще: https://s3-eu-west-1.amazonaws.com/presentations2012/50_presentation.pdf
я не думаю что на данный момент вам надо этим голову нагружать
stackoverflow.com
JPA Implementations - Which one is the best to use?
I have made use of the following JPA implementations: Hibernate, Toplink, OpenJPA Each of them has their own strengths and weaknesses. I found Hibernate the most advanced of the three except that...

itAvgur [9 hours ago] 
Не проникся я пока Hibernate'ом.
ИМХО костыль для тех, кто в SQL лезть не хочет (а надо).
MyBatis, как обертка к JDBC - интересный продукт. :ok_hand:


Few [6:23 AM] 
В разделе про транзакции ссылка "How does Spring @Transactional Really Work" у кого-нибудь открывается?


Tanya [7:04 AM] 
не работает, надо поправить
скорее всего эта статья
https://dzone.com/articles/how-does-spring-transactional (edited)


Few [7:05 AM] 
@Tanya спасибо


Tanya [7:06 AM] 
пожалуйста :slightly_smiling_face:


grigory.kislin [11:26 AM] 
всем привет!
ссылку поправил. и- забыл вчера отослать письмо по 5му занятию, счас вышлю


Ivanushka [6:47 PM] 
Подскажите (были проблемы с патчами, с Заданием ещё не разбирался) с выбранными (одинаковыми) профилями UserServiceTest валится после всех патчей?


Dmitry Makarov [6:52 PM] 
еще ничего не делал но уже тест валится?


Ivanushka [6:53 PM] 
5_5 Patch не накатывается, это только у меня? (говорит не может вставить TomCat version "Can`t apply 1 of 3 hunks")


Dmitry Makarov [6:53 PM] 
у меня все накатилось


Ivanushka [6:53 PM] 
@Dmitry Makarov Совершенно верно.


Few
[6:54 PM] 
UserServiceTest работает



[6:54] 
если с выбранными профилями не напутал


Dmitry Makarov [6:54 PM] 
у него патчи не накатились


Ivanushka [6:54 PM] 
Спасибо.


Ivanushka
[7:01 PM] 
IDEA до 2017.3 кто-то обновлял? До патчей...


Few [7:06 PM] 
После патчей уже


Dmitry Makarov [8:16 PM] 
у кого валидация работает?


Argentum_kuh [12:00 AM] 
Народ, после патча 5.5 падает тест на Postrges. Так и задумано?


Argentum_kuh [12:12 AM] 
Говорит dataSource не могет создать


Argentum_kuh [12:23 AM] 
О, ложная тревога


Kirilo [1:46 AM] 
Произношение английских слов, конечно... Ухо режет. Особенно в видео 5_1 с 17:57 по 18:01 :slightly_smiling_face:  Thread все-таки немного не так читается... :slightly_smiling_face:


Vladimir_X [9:09 AM] 
после установки последнего патча проект перестал запускаться. Выдавал длиннющую простыню в консоль, мол не может найти файл ehcache.xml, хотя файл был на месте. После (не)продолжительных танцев-с-бубном выяснилось, что у одной из папок, в которой лежит проект, был пробел в названии. Переименовал папку и всё заработало


philip.goldm [9:50 AM] 
ребят привет! Кому нибудь удалось реализовать save(Meal meal, int userId) в DataJpaMealRepositoryImpl?
если да, реализовали через подсказку? или по другому?
>6: В Data-Jpa метод для ссылки на entity (аналог em.getReference) : T getOne(ID id)
Чтото у меня не получается подтянуть user в meal.setUser

anpotashev [3 hours ago] 
И тебе привет!
Чтобы воспользоваться User getOne(id) вроде нужен CrudUserRepository


philip.goldm [2 hours ago] 
вот тоже подумываю. Но меня останавливает, только то, что здесь идет создание и обращение в UserRepository из другого repository. По логике MealRepository не должен знать об UserRepository. Только на уровне Service.


philip.goldm [2 hours ago] 
в любом случае, спасибо тебе за совет. Этот вариант работает, но мне кажется это не правильно.


anpotashev [2 hours ago] 
Если хочешь можешь создать еще один JpaRepository<User, Integer> в котором ничего не будет кроме getOne. Но, имхо, это лишнее


philip.goldm [2 hours ago] 
интересно мнение: Как считаешь, это правильно что в MealRepositoryImpl есть есть обращение в CrudUserRepository?


anpotashev [2 hours ago] 
Если одну реализацию репозитория делает один разработчик. а другую другой, то, наверно неправильно. А если один, то почему бы нет.


fbochkarev [12:29 PM] 
После патча 5_5 spring-db.xml и в нем ${jdbc.initLocation}  подчеркивает красным и при запуске tomcat-а, и выборе user-а, падает с 500 ошибкой, хотя на hsqldb.properties пробрасывает. (edited)


Few 
[12:33 PM] 
я Григорию уже писал, что это исправляется заменой значения проперти на (edited)


[12:33] 
jdbc.initLocation=db/initDB.sql


[12:33] 
ну и соответственно в xml:


[12:33] 
<jdbc:script location="classpath:${jdbc.initLocation}"/>


[12:34] 
но он не оценил видимо, может это идеологически не правильно


[12:34] 
но проблему решает и работает
хотя оно и без этого работает, но идея подчеркивает
